!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){e.exports=n.p+"285ae3239f1a614a5a05b4aa13ce31a5.png"},function(e,t,n){e.exports=n.p+"f6aa7f0421a5ce4cec7cc06690fd335e.png"},function(e,t,n){e.exports=n.p+"07215ce9469104c14aa43da4506cd199.png"},function(e,t,n){e.exports=n.p+"eff096f9e06e39117b751d9efd128b13.png"},function(e,t,n){e.exports=n.p+"70e6f529318d5043688ca77fba9d97fb.png"},function(e,t,n){e.exports=n.p+"f14fce4730208fa15a13846cdc754e69.png"},function(e,t,n){"use strict";n.r(t);var i,a,o=function(){function e(){var e=this;this.animations=[],this.updates=[],this.resize=function(){console.log("canvas resizing"),e.canvas.width=e.canvas.clientWidth,e.canvas.height=e.canvas.clientHeight},this.isRunning=!1,this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1)},this.addView=function(t){e.addAnimatable(t),t.width=e.width,t.height=e.height},this.removeView=function(t){e.removeAnimatable(t)},this.fps=32,this.fpsInterval=1e3/this.fps,this.animate=function(){e.isRunning&&requestAnimationFrame(e.animate);var t=Date.now(),n=t-e.lastFrameTime;if(n>e.fpsInterval){e.lastFrameTime=t;for(var i=n/1e3,a=0,o=e.updates;a<o.length;a++){(0,o[a])(i)}e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height);for(var r=0,s=e.animations;r<s.length;r++){(0,s[r])(e.ctx,e.canvas.width,e.canvas.height)}}}}return Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),e.createInBody=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var n=new e;return n.canvas=t,n.ctx=t.getContext("2d"),document.addEventListener("keyup",function(e){80==e.keyCode&&n.playPause()}),n.startAnimation(),n.resize(),window.addEventListener("resize",n.resize),n},e.prototype.startAnimation=function(){console.log("start animation"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animate()},e.prototype.stopAnimation=function(){console.log("stop animation"),this.isRunning=!1},e.prototype.playPause=function(){this.isRunning?this.stopAnimation():this.startAnimation()},e}(),r=function(){return function(e){var t=this;this.name=e,this.animations=[],this.updates=[],this.isVisible=!0,this.update=function(e){if(t.isVisible)for(var n=0,i=t.updates;n<i.length;n++)(0,i[n])(e)},this.draw=function(e,n,i){if(t.isVisible)for(var a=0,o=t.animations;a<o.length;a++)(0,o[a])(e,n,i)},this.show=function(){t.isVisible=!0},this.hide=function(){t.isVisible=!1},this.addAnimation=function(e){t.animations.push(e)},this.removeAnimation=function(e){t.animations.splice(t.animations.indexOf(e),1)},this.addUpdate=function(e){t.updates.push(e)},this.removeUpdate=function(e){t.updates.splice(t.updates.indexOf(e),1)},this.addAnimatable=function(e){t.updates.push(e.update),t.animations.push(e.draw)},this.removeAnimatable=function(e){console.log(e),console.log(t.animations.length),t.updates.splice(t.updates.indexOf(e.update),1),t.animations.splice(t.animations.indexOf(e.draw),1),console.log(t.animations.length)}}}();!function(e){e.start="start",e.left="left",e.up="up",e.right="right",e.down="down",e.a="a"}(i||(i={})),function(e){e.keyboard="keyboard",e.gamepad="gamepad"}(a||(a={}));var s=function(){return function(){var e=this;this.listeners=[],this.addEventListener=function(t){if(!t||e.listeners.indexOf(t)>=0)throw"listener already added";e.listeners.push(t)},this.dispatchEvent=function(){for(var t=0;t<e.listeners.length;t++)(0,e.listeners[t])()},this.removeEventListener=function(t){if(!t||e.listeners.indexOf(t)<0)throw"listener not found";e.listeners.splice(e.listeners.indexOf(t),1)}}}(),l=function(){return function(){var e=this;this.listeners=[],this.addEventListener=function(t){if(!t||e.listeners.indexOf(t)>=0)throw"listener already added";e.listeners.push(t)},this.dispatchEvent=function(t){for(var n=0;n<e.listeners.length;n++)(0,e.listeners[n])(t)},this.removeEventListener=function(t){if(!t||e.listeners.indexOf(t)<0)throw"listener not found";e.listeners.splice(e.listeners.indexOf(t),1)}}}(),c=function(){return function(){var e=this;this.listeners=[],this.addEventListener=function(t){if(!t||e.listeners.indexOf(t)>=0)throw"listener already added";e.listeners.push(t)},this.dispatchEvent=function(t,n){for(var i=0;i<e.listeners.length;i++)(0,e.listeners[i])(t,n)},this.removeEventListener=function(t){if(!t||e.listeners.indexOf(t)<0)throw"listener not found";e.listeners.splice(e.listeners.indexOf(t),1)}}}(),d=function(){return function(e,t,n,o,r,s){var l=this;this.name=e,this.type=a.keyboard,this.signal=new c,this.xAxes=0,this.yAxes=0,this.start=!1,document.addEventListener("keydown",function(e){e.keyCode==n&&(l.xAxes=-1,l.signal.dispatchEvent(l,i.left)),e.keyCode==t&&(l.yAxes=-1,l.signal.dispatchEvent(l,i.up)),e.keyCode==r&&(l.xAxes=1,l.signal.dispatchEvent(l,i.right)),e.keyCode==o&&(l.yAxes=1,l.signal.dispatchEvent(l,i.down)),13==e.keyCode&&(l.start=!0,l.signal.dispatchEvent(l,i.start)),e.keyCode==s&&(l.a=!0,l.signal.dispatchEvent(l,i.a))}),document.addEventListener("keyup",function(e){e.keyCode==n&&(l.xAxes=-1)&&(l.xAxes=0),e.keyCode==t&&(l.yAxes=-1)&&(l.yAxes=0),e.keyCode==r&&(l.xAxes=1)&&(l.xAxes=0),e.keyCode==o&&(l.yAxes=1)&&(l.yAxes=0),13==e.keyCode&&(l.start=!1),e.keyCode==s&&(l.a=!1)})}}(),h=function(){function e(){var e=this;this.gamepads=[],this.scangamepads=function(){for(var t=navigator.getGamepads?navigator.getGamepads():[],n=0;n<t.length;n++)t[n]&&!(t[n].index in e.gamepads)&&t[n].buttons.length>=16&&(e.gamepads[t[n].index]=t[n],e.scannedGamepad.dispatchEvent(t[n]))},this.scannedGamepad=new l,this.reset()}return e.prototype.start=function(){this.gamepadScanner=setInterval(this.scangamepads,500)},e.prototype.stop=function(){clearInterval(this.gamepadScanner)},e.prototype.reset=function(){this.gamepads=[]},e}(),u=function(){function e(e,t){var n=this;this.name=e,this.index=t,this.timeout=.5,this.signalingTimers={},this.signalListener=function(){requestAnimationFrame(n.signalListener);var e=Date.now();n.checkSignal(n.start,i.start,e),n.checkSignal(n.a,i.a,e),n.checkSignal(n.up,i.up,e),n.checkSignal(n.right,i.right,e),n.checkSignal(n.left,i.left,e),n.checkSignal(n.down,i.down,e),n.checkSignal(n.yAxes<-.5,i.up,e),n.checkSignal(n.yAxes>.5,i.down,e),n.checkSignal(n.xAxes<-.5,i.left,e),n.checkSignal(n.xAxes>.5,i.right,e)},this.checkSignal=function(e,t,i){e?n.signalingTimers[t]?(i-n.signalingTimers[t])/1e3>=n.timeout&&n.signal.dispatchEvent(n,t):(n.signalingTimers[t]=Date.now(),n.signal.dispatchEvent(n,t)):n.signalingTimers[t]=void 0},this.signal=new c,this.type=a.gamepad}return Object.defineProperty(e.prototype,"xAxes",{get:function(){return navigator.getGamepads()[this.index].axes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"yAxes",{get:function(){return navigator.getGamepads()[this.index].axes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return navigator.getGamepads()[this.index].buttons[9].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return navigator.getGamepads()[this.index].buttons[0].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"up",{get:function(){return navigator.getGamepads()[this.index].buttons[12].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return navigator.getGamepads()[this.index].buttons[15].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"down",{get:function(){return navigator.getGamepads()[this.index].buttons[13].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return navigator.getGamepads()[this.index].buttons[14].pressed},enumerable:!0,configurable:!0}),e.prototype.enableSignals=function(){this.signalListener()},e}(),f=n(0),g=n.n(f),p=n(1),m=n.n(p),v=function(){return function(){var e=this;this.get=function(t,n,i){e.request("GET",t,null,n,i)},this.post=function(t,n,i,a){e.request("POST",t,n,i,a)},this.request=function(e,t,n,i,a){console.log(e+" "+t);var o=new XMLHttpRequest;o.onreadystatechange=function(){4==o.readyState&&(console.log("response: "+o.status),200==o.status?i&&i(o.responseText):a&&a())},o.open(e,t,!0),"POST"==e?o.send(n):o.send()}}}(),y=function(){function e(e){var t=this;this.sigServeUrl="http://localhost:1337/",this.failCounter=0,this.connectSigServe=function(){var e=t.makeid();t.http.post(t.sigServeUrl+"connectstart/"+t.serverName+"/"+e,null,function(n){t.processName=e,t.waitForConnectOffer()},function(){t.failCounter++,t.failCounter<5&&t.connectSigServe()})},this.waitForConnectOffer=function(){t.http.get(t.sigServeUrl+"connectoffer/"+t.serverName+"/"+t.processName,function(e){t.rtcPeerConnection.setRemoteDescription(JSON.parse(JSON.parse(e))).then(function(){t.rtcPeerConnection.createAnswer().then(function(e){t.rtcPeerConnection.setLocalDescription(e),console.log(JSON.stringify(JSON.stringify(e))),t.http.post(t.sigServeUrl+"connectanswer/"+t.serverName+"/"+t.processName,JSON.stringify(JSON.stringify(e)),function(e){t.checkCandidates()})},function(e){console.log("error: "+e)})})},function(){console.log("no connectoffer"),console.log("retrying..."),setTimeout(function(){t.waitForConnectOffer()},2e3)})},this.addedCandidates=[],this.checkCandidates=function(){console.log("checkCandidates"),t.serverName&&t.processName?t.http.get(t.sigServeUrl+"servercandidate/"+t.serverName+"/"+t.processName,function(e){for(var n=JSON.parse(e),i=0;i<n.length;i++){var a=JSON.parse(n[i]);t.addedCandidates.indexOf(a)<0&&(console.log("add candidate"),t.rtcPeerConnection.addIceCandidate(a),t.addedCandidates.push(a))}setTimeout(function(){t.checkCandidates()},2e3)}):console.log("not configured")},this.serverName=e,this.http=new v;this.rtcPeerConnection=new RTCPeerConnection({iceServers:[{urls:"stun:stun1.l.google.com:19302"}]}),this.rtcPeerConnection.onicecandidate=function(e){console.log(" ICE candidate: \n"+(e.candidate?e.candidate.candidate:"(null)")),e.candidate&&t.addCandidate(e)},this.connectSigServe(),this.rtcPeerConnection.ondatachannel=function(e){console.log("hi data channel"),t.dataChannel=e.channel,t.dataChannel.onmessage=function(e){console.log(e)},setTimeout(function(){t.sendData("Hi there")},3e3)}}return e.prototype.addCandidate=function(e){var t=this;this.serverName&&this.processName?this.http.post(this.sigServeUrl+"clientcandidate/"+this.serverName+"/"+this.processName,JSON.stringify(JSON.stringify(e.candidate))):(setTimeout(function(){t.addCandidate(e)},3e3),console.log("not configured"))},e.prototype.sendData=function(e){this.dataChannel.send(e)},e.prototype.makeid=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},e}(),w=function(){function e(){var e=this;this.sigServeUrl="http://localhost:1337/",this.processes=[],this.isConnecting=!1,this.failCounter=0,this.waitForConnectStart=function(){e.http.get(e.sigServeUrl+"connectstart/"+e.serverName,function(t){e.processName=JSON.parse(t),e.rtcPeerConnection.createOffer().then(function(t){e.rtcPeerConnection.setLocalDescription(t),e.http.post(e.sigServeUrl+"connectoffer/"+e.serverName+"/"+e.processName,JSON.stringify(JSON.stringify(t)),function(t){e.waitForConnectAnswer()})},function(e){console.log("error: "+e)})},function(){console.log("no connectstart"),console.log("retrying..."),setTimeout(function(){e.waitForConnectStart()},2e3)})},this.waitForConnectAnswer=function(){e.http.get(e.sigServeUrl+"connectanswer/"+e.serverName+"/"+e.processName,function(t){console.log("got answer"),e.rtcPeerConnection.setRemoteDescription(JSON.parse(JSON.parse(t))).then(function(){console.log("after setRemoteDescription"),e.checkCandidates()},function(e){console.log(e)})},function(){console.log("no connectanswer"),console.log("retrying..."),setTimeout(function(){e.waitForConnectAnswer()},2e3)})},this.addedCandidates=[],this.checkCandidates=function(){console.log("checkCandidates"),e.serverName&&e.processName?e.http.get(e.sigServeUrl+"clientcandidate/"+e.serverName+"/"+e.processName,function(t){for(var n=JSON.parse(t),i=0;i<n.length;i++){var a=JSON.parse(n[i]);e.addedCandidates.indexOf(a)<0&&(console.log("add candidate"),e.rtcPeerConnection.addIceCandidate(a),e.addedCandidates.push(a))}setTimeout(function(){e.checkCandidates()},2e3)}):console.log("not configured")},this.http=new v;this.rtcPeerConnection=new RTCPeerConnection({iceServers:[{urls:"stun:stun1.l.google.com:19302"}]}),this.dataChannel=this.rtcPeerConnection.createDataChannel("chat"),this.dataChannel.onmessage=function(t){console.log(t),e.sendData("answer")},this.rtcPeerConnection.onicecandidate=function(t){console.log(" ICE candidate: \n"+(t.candidate?t.candidate.candidate:"(null)")),t.candidate&&e.addCandidate(t)},this.rtcPeerConnection.onnegotiationneeded=function(){if(console.log("rtcPeerConnection.onnegotiationneeded"),e.isConnecting){console.log("rtcPeerConnection.onnegotiationneeded is connecting");try{e.rtcPeerConnection.createOffer().then(function(e){},function(e){console.log("error: "+e)})}catch(e){console.error(e)}}},this.createSigServe()}return e.prototype.createSigServe=function(){var e=this;console.log("creating sig serve");var t=this.makeid();this.http.post(this.sigServeUrl+"create/"+t,null,function(n){console.log("creating sig serve sucessful"),e.serverName=t,console.log(window.location.href+"#"+e.serverName),e.waitForConnectStart()},function(){e.failCounter++,e.failCounter<5&&(console.log("creating sig serve retry"),e.createSigServe())})},e.prototype.addCandidate=function(e){var t=this;this.serverName&&this.processName?this.http.post(this.sigServeUrl+"servercandidate/"+this.serverName+"/"+this.processName,JSON.stringify(JSON.stringify(e.candidate))):(setTimeout(function(){t.addCandidate(e)},3e3),console.log("not configured"))},e.prototype.sendData=function(e){this.dataChannel.send(e)},e.prototype.makeid=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<5;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},e}(),b=function(){return function(){if(console.log(window.location.href),window.location.href.indexOf("#")>0){var e=decodeURI(window.location.href.split("#")[1]);console.log(e),new y(e)}else new w}}(),x=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),S=function(e){function t(){var t=e.call(this,"MenuView")||this;t.options=[],t.controllers=[],t.drawOptions=function(e,n,i){if(!(t.controllers.length<=0))for(var a=i/2-32*t.options.length/2,o=0;o<t.options.length;o++){var r=t.options[o];e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="22px sans-serif";var s=a+5+32*o;e.fillText(r,n/2,s),o===t.selectedOption&&e.strokeRect(n/2-e.measureText(r).width/2-5,s-11-5,e.measureText(r).width+10,32)}},t.drawControllers=function(e,n,i){for(var o=n/2-(15+75*t.controllers.length)/2,r=0;r<t.controllers.length;r++){e.fillStyle="hsl("+r/t.controllers.length*360+",100%, 40%)";var s=o+15+75*r;switch(t.controllers[r].type){case a.gamepad:e.font="60px FontAwesome",e.fillText("",s,i/4);break;case a.keyboard:e.font="60px FontAwesome",e.fillText("",s,i/4)}}},t.addController=function(e){e.type==a.gamepad&&e.enableSignals(),e.signal.addEventListener(t.controllerSignal)},t.controllerSignal=function(e,n){if(n==i.start)t.controllers.indexOf(e)>=0?t.controllers.splice(t.controllers.indexOf(e),1):t.controllers.push(e);else if(t.controllers.length>0&&t.controllers[0]==e)switch(n){case i.down:t.selectedOption++,t.selectedOption>=t.options.length&&(t.selectedOption=0);break;case i.up:t.selectedOption--,t.selectedOption<0&&(t.selectedOption=t.options.length-1);break;case i.a:switch(t.selectedOption){case 0:t.gamepadScanner.stop(),t.requestStart.dispatchEvent();break;case 1:t.showControls=!t.showControls}}},t.requestStart=new s,t.options=["Start Game","Show / Hide Controls"],t.selectedOption=0,t.showControls=!0,t.controls_gamepad_image=new Image,t.controls_gamepad_image.src=g.a,t.controls_keyboard_image=new Image,t.controls_keyboard_image.src=m.a,t.addAnimation(function(e,n,i){if(t.showControls){var a=n/3,o=a/t.controls_gamepad_image.naturalWidth*t.controls_gamepad_image.naturalHeight;e.drawImage(t.controls_gamepad_image,a-a/2,3*i/4-o/2,a,o),o=a/t.controls_keyboard_image.naturalWidth*t.controls_keyboard_image.naturalHeight,e.drawImage(t.controls_keyboard_image,2*a-a/2,3*i/4-o/2,a,o)}}),t.addAnimation(t.drawOptions),t.addAnimation(t.drawControllers),t.gamepadScanner=new h,t.gamepadScanner.scannedGamepad.addEventListener(function(e){t.addController(new u(e.index.toString(),e.index))}),t.gamepadScanner.start();new b;var n=new d("arrows",38,37,40,39,32);return t.addController(n),t}return x(t,e),t}(r),C=n(2),O=n.n(C),I=function(){function e(){}return e.colorImage=function(e,t){e.onload=function(){var n=document.createElement("canvas");n.width=e.naturalWidth,n.height=e.naturalHeight;var i=n.getContext("2d");i.drawImage(e,0,0);for(var a=i.getImageData(0,0,n.width,n.height),o=0;o<a.data.length;o+=4){var r=a.data[o],s=a.data[o+1],l=a.data[o+2];if(a.data[o+3]>.5&&r-s>50&&r-l>50){t=t;var c,d,h,u=.5,f=u*(1-Math.abs(t/60%2-1));t<60?(c=u,d=f,h=0):t<120?(c=f,d=u,h=0):t<180?(c=0,d=u,h=f):t<240?(c=0,d=f,h=u):t<300?(c=f,d=0,h=u):(c=u,d=0,h=f),c=255*(c+0),d=255*(d+0),h=255*(h+0),a.data[o]=c,a.data[o+1]=d,a.data[o+2]=h}}i.putImageData(a,0,0),e.src=n.toDataURL(),e.onload=function(){}}},e.colorImageAny=function(e,t){var n=document.createElement("canvas");n.width=e.naturalWidth,n.height=e.naturalHeight;var i=n.getContext("2d");i.drawImage(e,0,0);for(var a=i.getImageData(0,0,n.width,n.height),o=0;o<a.data.length;o+=4){a.data[o],a.data[o+1],a.data[o+2];if(a.data[o+3]>.5){t=t;var r,s,l,c=.5,d=c*(1-Math.abs(t/60%2-1));t<60?(r=c,s=d,l=0):t<120?(r=d,s=c,l=0):t<180?(r=0,s=c,l=d):t<240?(r=0,s=d,l=c):t<300?(r=d,s=0,l=c):(r=c,s=0,l=d),r=255*(r+0),s=255*(s+0),l=255*(l+0),a.data[o]=r,a.data[o+1]=s,a.data[o+2]=l}}i.putImageData(a,0,0),e.src=n.toDataURL()},e.getImageData=function(e,t){e.onload=function(){var n=document.createElement("canvas");n.width=e.naturalWidth,n.height=e.naturalHeight;var i=n.getContext("2d");i.drawImage(e,0,0),t(i.getImageData(0,0,n.width,n.height))}},e}(),A=function(){function e(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}return e.prototype.collidesWith=function(e){var t=!1,n=!1;return this.x<=e.x?this.x<=e.x&&this.x+this.width>e.x&&(t=!0):e.x<=this.x&&e.x+e.width>this.x&&(t=!0),t&&(this.y<=e.y?this.y<=e.y&&this.y+this.width>e.y&&(n=!0):e.y<=this.y&&e.y+e.width>this.y&&(n=!0)),t&&n},e}(),k=function(){return function(e,t,n,a){var o=this;this.controller=e,this.playerNumber=t,this.ballSpawner=n,this.tree=a,this.points=0,this.controllerSignal=function(e,t){if(!o.position)switch(t){case i.up:o.isJumping||(o.isJumping=!0,console.log((new Date).toISOString()+": "+o.y),o.vy=-2e3/969*window.innerHeight,o.baseY=o.y);break;case i.a:if(null==o.ballLeft){var n=o.ballSpawner.getBall(o.getLeftHandHitRect());n&&(n.color(o.playerNumber),o.ballLeft=n)}else(r=o.tree.addBall(o.ballLeft))>0&&(o.points+=r,o.ballLeft=null);if(null==o.ballRight){var a=o.ballSpawner.getBall(o.getRightHandHitRect());a&&(a.color(o.playerNumber),o.ballRight=a)}else{var r;(r=o.tree.addBall(o.ballRight))>0&&(o.points+=r,o.ballRight=null)}}},this.leftHandOffset=5,this.rightHandOffset=120,this.topHandOffset=140,this.handSize=25,this.getLeftHandHitRect=function(){return new A(o.x+o.leftHandOffset,o.y+o.topHandOffset,o.handSize,o.handSize)},this.getRightHandHitRect=function(){return new A(o.x+o.rightHandOffset,o.y+o.topHandOffset,o.handSize,o.handSize)},this.update=function(e){o.position||(o.x=o.x+o.controller.xAxes*e*500*2,o.controller.xAxes<0?o.moveLeft=!0:o.controller.xAxes>0&&(o.moveLeft=!1)),o.y=o.y+o.vy*e,o.isJumping&&(o.vy<=0&&o.vy+o.g*e>=0&&console.log((new Date).toISOString()+": "+o.y),o.vy=o.vy+o.g*e,o.y>o.baseY&&(o.vy=0,o.y=o.baseY,console.log((new Date).toISOString()+": "+o.y),o.isJumping=!1)),o.ballLeft&&(o.ballLeft.x=o.x+o.leftHandOffset+o.handSize/2,o.ballLeft.y=o.y+o.topHandOffset-o.handSize),o.ballRight&&(o.ballRight.x=o.x+o.rightHandOffset+o.handSize/2,o.ballRight.y=o.y+o.topHandOffset-o.handSize)},this.draw=function(e,t,n){0==o.y&&o.playerImage.naturalHeight&&(o.y=n-40-o.playerImage.naturalHeight),o.moveLeft?e.drawImage(o.playerImage,o.x,o.y):(e.save(),e.scale(-1,1),e.drawImage(o.playerImage,-o.x-o.playerImage.naturalWidth,o.y),e.restore()),o.ballLeft&&o.ballLeft.draw(e,t,n),o.ballRight&&o.ballRight.draw(e,t,n),e.textBaseline="top",e.textAlign="left",e.fillStyle=o.color,e.font="60px sans-serif",e.fillText(o.points.toString(),0,n*o.playerNumber),o.position&&(e.font=80-7*o.position+"px sans-serif",e.fillText(o.position+".",150,n*o.playerNumber))},this.end=function(e){o.position=e},this.playerImage=new Image,this.playerImage.src=O.a,I.colorImage(this.playerImage,360*this.playerNumber),this.x=0,this.y=0,this.vy=0,this.g=3e3,this.isJumping=!1,this.ballLeft=null,this.ballRight=null,e.signal.addEventListener(this.controllerSignal),this.color="hsl("+360*t+",100%, 30%)"}}(),N=n(3),T=n.n(N),L=function(){function e(){var e=this;this.balls=[],this.pointsLines=[0,.3,.5,.7,.8,.9],this.update=function(e){},this.addBall=function(t){if(t.getHitRect().collidesWith(new A(e.x,e.y,e.width,e.height))){var n=Math.round((t.x-e.x)/e.width*e.treeImageData.width),i=Math.round((t.y-e.y)/e.height*e.treeImageData.height);if(e.isPointOnTree(i,n)){e.balls.push(t);for(var a=1-(t.y-e.y)/e.height,o=0;o<e.pointsLines.length-1;o++){e.pointsLines[o];if(a<e.pointsLines[o+1])return o+1}return e.pointsLines.length}}return 0},this.draw=function(t,n,i){if(e.recalculate){var a=3*i/4,o=a/e.treeImage.naturalWidth*e.treeImage.naturalHeight;e.x=n-o,e.y=i-a-20,e.width=o,e.height=a,I.getImageData(e.treeImage,function(t){return e.treeImageData=t})}for(var r=0;r<e.pointsLines.length;r++){var s=1-e.pointsLines[r];t.beginPath(),t.moveTo(e.x+e.width/2,e.y+e.height*s),t.lineTo(e.x+e.width,e.y+e.height*s),t.strokeStyle="black",t.stroke(),t.fillStyle="black",t.textBaseline="bottom",t.textAlign="right",t.font="60px sans-serif",t.fillText((r+1).toString(),e.x+e.width,e.y+e.height*s)}t.drawImage(e.treeImage,e.x,e.y,e.width,e.height),e.balls.forEach(function(e){e.draw(t)})},this.treeImage=new Image,this.treeImage.src=T.a,this.recalculate=!0,this.x=0,this.y=0}return e.prototype.isPointOnTree=function(e,t){if(this.treeImageData)for(var n=e-5;n<e+5;n++)for(var i=t-5;i<t+5;i++){if(this.treeImageData.data[4*i+4*n*this.treeImageData.width+3]>.5)return!0}return!1},e}(),P=n(4),E=n.n(P),_=function(){return function(){var e=this;this.getHitRect=function(){return new A(e.x-e.ballImage.naturalWidth/2,e.y,e.ballImage.naturalWidth,e.ballImage.naturalHeight)},this.color=function(t){console.log("color"),I.colorImageAny(e.ballImage,360*t)},this.update=function(e){},this.draw=function(t,n,i){t.drawImage(e.ballImage,e.x-e.ballImage.naturalWidth/2,e.y)},this.ballImage=new Image,this.ballImage.src=E.a,I.colorImage(this.ballImage,360*Math.random()),this.x=0,this.y=0}}(),R=function(){return function(e,t){var n=this;this.intervalMs=e,this.func=t,this.update=function(e){n.lastFrameTime||(n.lastFrameTime=Date.now());var t=Date.now();t-n.lastFrameTime>n.intervalMs&&(n.lastFrameTime=t,n.func())}}}(),H=function(){return function(e){var t=this;this.rate=20,this.balls=[],this.getBall=function(e){for(var n=-1,i=0;i<t.balls.length;i++)t.balls[i].getHitRect().collidesWith(e)&&(n=i);if(n>=0){var a=t.balls[n];return t.balls.splice(n,1),a}},this.spawnBall=function(){var e=new _;e.x=600*Math.random()+100,e.y=-100,t.balls.push(e)},this.update=function(e){t.ticker.update(e);for(var n=0;n<t.balls.length;n++){var i=t.balls[n];i.y=i.y+30*e}},this.draw=function(e,n,i){for(var a=[],o=0;o<t.balls.length;o++){var r=t.balls[o];r.draw(e),r.y>i+100&&a.push(o)}for(o=0;o<a.length;o++){var s=a[o];t.balls.splice(s,1)}},this.ticker=new R(e,this.spawnBall)}}(),D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),G=function(e){function t(t){var n=e.call(this,"GameView")||this;return n.controllers=t,n.player=[],n.start=function(){n.currentTime=0,n.playTime=300,n.addAnimation(n.introduction),n.addAnimation(n.animation);var e=new L;n.addAnimatable(e),n.spawner=new H(2e3/n.controllers.length),n.addAnimatable(n.spawner);for(var t=0;t<n.controllers.length;t++){var a=n.controllers[t],o=new k(a,t/n.controllers.length,n.spawner,e);n.player.push(o),n.addAnimatable(o),a.signal.addEventListener(function(e,t){n.gameFinished&&n.allowNewGame&&(t!=i.a&&t!=i.start||n.requestNewGame.dispatchEvent())})}n.addUpdate(n.timerUpdate)},n.introduction=function(e,t,i){e.fillStyle="black",e.font="22px sans-serif",e.textAlign="center",e.fillText("Grab some christmas balls with your hands",1*t/4,i/2),e.fillText("and put them on the tree.",1*t/4,i/2+30),e.font="27px sans-serif";var a=n.playTime-n.currentTime;a<0&&(a=0),e.fillText((Math.floor(a/60)+":"+Math.round(a%60)).toString(),1*t/4,i/2+70)},n.timerUpdate=function(e){if(!n.gameFinished&&(n.currentTime+=e,n.currentTime>=n.playTime)){n.gameFinished=!0,setTimeout(function(){n.allowNewGame=!0},3e3),n.removeAnimatable(n.spawner),n.removeAnimation(n.introduction),n.addAnimation(function(e,t,i){n.allowNewGame&&(e.textAlign="center",e.textBaseline="top",e.fillStyle="black",e.font="22px sans-serif",e.fillText("Press a button to start a new game.",1*t/4,i/2))}),n.player=n.player.sort(function(e,t){return t.points-e.points});for(var t=0;t<n.player.length;t++){n.player[t].end(t+1)}}},n.animation=function(e,t,n){e.fillStyle="black",e.fillRect(0,n,t,-30),e.fillStyle="brown",e.fillRect(0,n-30,t,-70)},n.requestNewGame=new s,n}return D(t,e),t}(r),F=n(5),J=n.n(F),U=function(){function e(){var e=this;this.start=function(){e.game=new G(e.menu.controllers),e.menu.hide(),e.menu.requestStart.removeEventListener(e.start),e.menu=null,e.animation.addView(e.game),e.game.requestNewGame.addEventListener(e.newGame),console.log("start"),e.game.start()},this.newGame=function(){e.menu=new S,e.menu.requestStart.addEventListener(e.start),e.game&&(e.game.requestNewGame.removeEventListener(e.newGame),e.game.hide(),e.game=null),e.animation.addView(e.menu),e.menu.show()}}return e.prototype.run=function(){this.animation=o.createInBody(),this.changeFavicon(J.a),this.newGame()},e.prototype.changeFavicon=function(e){var t=document.createElement("link"),n=document.getElementById("dynamic-favicon");t.id="dynamic-favicon",t.rel="shortcut icon",t.href=e,n&&document.head.removeChild(n),document.head.appendChild(t)},e}();document.addEventListener("DOMContentLoaded",function(){(new U).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jb250cm9sc19nYW1lcGFkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NvbnRyb2xzX2tleWJvYXJkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3BsYXllci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy90cmVlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2JhbGwucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvZmF2aWNvbi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9hbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9jb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2VFdmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2tleWJvYXJkQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9nYW1lcGFkU2Nhbm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2dhbWVwYWRDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2h0dHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy93ZWJSdGNDbGllbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy93ZWJSdGNTZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy93ZWJSdGNDb25uZWN0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW5NZW51Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2hlbHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy90cmVlLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWxsLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvYW5pbWF0aW9uVGlja2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9iYWxsU3Bhd25lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJTaWduYWxzIiwiQ29udHJvbGxlclR5cGUiLCJBbmltYXRpb24iLCJfdGhpcyIsInRoaXMiLCJhbmltYXRpb25zIiwidXBkYXRlcyIsInJlc2l6ZSIsImNvbnNvbGUiLCJsb2ciLCJjYW52YXMiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiaXNSdW5uaW5nIiwiYWRkQW5pbWF0aW9uIiwiZnVuYyIsInB1c2giLCJyZW1vdmVBbmltYXRpb24iLCJzcGxpY2UiLCJpbmRleE9mIiwiYWRkVXBkYXRlIiwicmVtb3ZlVXBkYXRlIiwiYWRkQW5pbWF0YWJsZSIsImFuaW1hdGFibGUiLCJ1cGRhdGUiLCJkcmF3IiwicmVtb3ZlQW5pbWF0YWJsZSIsImFkZFZpZXciLCJ2aWV3IiwicmVtb3ZlVmlldyIsImZwcyIsImZwc0ludGVydmFsIiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm5vdyIsIkRhdGUiLCJlbGFwc2VkIiwibGFzdEZyYW1lVGltZSIsInRpbWVEaWZmIiwiX2kiLCJfYSIsImxlbmd0aCIsImN0eCIsImNsZWFyUmVjdCIsIl9iIiwiX2MiLCJjcmVhdGVJbkJvZHkiLCJkb2N1bWVudCIsImJvZHkiLCJwYXJlbnRFbGVtZW50Iiwic3R5bGUiLCJtYXJnaW4iLCJvdmVyZmxvdyIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImFuaW1hdGlvbiIsImdldENvbnRleHQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJrZXlDb2RlIiwicGxheVBhdXNlIiwic3RhcnRBbmltYXRpb24iLCJ3aW5kb3ciLCJzdG9wQW5pbWF0aW9uIiwiVmlldyIsImlzVmlzaWJsZSIsInNob3ciLCJoaWRlIiwiRUV2ZW50IiwibGlzdGVuZXJzIiwibGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnRfMSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJFRXZlbnRUIiwiYXJnIiwiZXZlbnRfMiIsIkVFdmVudFRUIiwiYXJnMSIsImFyZzIiLCJldmVudF8zIiwia2V5Ym9hcmRDb250cm9sc19LZXlib2FyZENvbnRyb2xzIiwidXBLZXkiLCJsZWZ0S2V5IiwiZG93bktleSIsInJpZ2h0S2V5IiwiYSIsInR5cGUiLCJrZXlib2FyZCIsInNpZ25hbCIsInhBeGVzIiwieUF4ZXMiLCJzdGFydCIsImxlZnQiLCJ1cCIsInJpZ2h0IiwiZG93biIsImdhbWVwYWRTY2FubmVyX0dhbWVwYWRTY2FubmVyIiwiR2FtZXBhZFNjYW5uZXIiLCJnYW1lcGFkcyIsInNjYW5nYW1lcGFkcyIsIm5hdmlnYXRvciIsImdldEdhbWVwYWRzIiwiaW5kZXgiLCJidXR0b25zIiwic2Nhbm5lZEdhbWVwYWQiLCJyZXNldCIsImdhbWVwYWRTY2FubmVyIiwic2V0SW50ZXJ2YWwiLCJzdG9wIiwiY2xlYXJJbnRlcnZhbCIsImdhbWVwYWRDb250cm9sc19HYW1lcGFkQ29udHJvbHMiLCJHYW1lcGFkQ29udHJvbHMiLCJ0aW1lb3V0Iiwic2lnbmFsaW5nVGltZXJzIiwic2lnbmFsTGlzdGVuZXIiLCJjaGVja1NpZ25hbCIsImlzUHJlc3NlZCIsInVuZGVmaW5lZCIsImdhbWVwYWQiLCJheGVzIiwicHJlc3NlZCIsImVuYWJsZVNpZ25hbHMiLCJIdHRwIiwidXJsIiwiY2FsbGJhY2siLCJlcnJvckNhbGxiYWNrIiwicmVxdWVzdCIsInBvc3QiLCJkYXRhIiwibWV0aG9kIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwic3RhdHVzIiwicmVzcG9uc2VUZXh0Iiwib3BlbiIsInNlbmQiLCJ3ZWJSdGNDbGllbnRfV2ViUnRjQ2xpZW50IiwiV2ViUnRjQ2xpZW50Iiwic2VydmVyTmFtZSIsInNpZ1NlcnZlVXJsIiwiZmFpbENvdW50ZXIiLCJjb25uZWN0U2lnU2VydmUiLCJwcm9jZXNzTmFtZSIsIm1ha2VpZCIsImh0dHAiLCJyZXNwb25zZSIsIndhaXRGb3JDb25uZWN0T2ZmZXIiLCJydGNQZWVyQ29ubmVjdGlvbiIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiSlNPTiIsInBhcnNlIiwidGhlbiIsImNyZWF0ZUFuc3dlciIsImRlc2MiLCJzZXRMb2NhbERlc2NyaXB0aW9uIiwic3RyaW5naWZ5IiwiY2hlY2tDYW5kaWRhdGVzIiwiZXJyIiwic2V0VGltZW91dCIsImFkZGVkQ2FuZGlkYXRlcyIsImNhbmRpZGF0ZXMiLCJqIiwiY2FuZGlkYXRlIiwiYWRkSWNlQ2FuZGlkYXRlIiwiUlRDUGVlckNvbm5lY3Rpb24iLCJpY2VTZXJ2ZXJzIiwidXJscyIsIm9uaWNlY2FuZGlkYXRlIiwiZSIsImFkZENhbmRpZGF0ZSIsIm9uZGF0YWNoYW5uZWwiLCJkYXRhQ2hhbm5lbCIsImNoYW5uZWwiLCJvbm1lc3NhZ2UiLCJzZW5kRGF0YSIsInRleHQiLCJwb3NzaWJsZSIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsIndlYlJ0Y1NlcnZlcl9XZWJSdGNTZXJ2ZXIiLCJXZWJSdGNTZXJ2ZXIiLCJwcm9jZXNzZXMiLCJpc0Nvbm5lY3RpbmciLCJ3YWl0Rm9yQ29ubmVjdFN0YXJ0IiwiY3JlYXRlT2ZmZXIiLCJ3YWl0Rm9yQ29ubmVjdEFuc3dlciIsImNyZWF0ZURhdGFDaGFubmVsIiwib25uZWdvdGlhdGlvbm5lZWRlZCIsImVycm9yIiwiY3JlYXRlU2lnU2VydmUiLCJsb2NhdGlvbiIsImhyZWYiLCJ3ZWJSdGNDb25uZWN0b3JfV2ViUnRjQ29ubmVjdG9yIiwiZGVjb2RlVVJJIiwic3BsaXQiLCJtYWluTWVudVZpZXdfTWFpbk1lbnVWaWV3IiwiX3N1cGVyIiwiTWFpbk1lbnVWaWV3Iiwib3B0aW9ucyIsImNvbnRyb2xsZXJzIiwiZHJhd09wdGlvbnMiLCJzdGFydEhlaWdodCIsIm9wdGlvbiIsImZpbGxTdHlsZSIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZvbnQiLCJvcHRpb25IZWlnaHQiLCJmaWxsVGV4dCIsInNlbGVjdGVkT3B0aW9uIiwic3Ryb2tlUmVjdCIsIm1lYXN1cmVUZXh0IiwiZm9udFNpemUiLCJkcmF3Q29udHJvbGxlcnMiLCJzdGFydFgiLCJ4IiwiYWRkQ29udHJvbGxlciIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyU2lnbmFsIiwic2VuZGVyIiwicmVxdWVzdFN0YXJ0Iiwic2hvd0NvbnRyb2xzIiwiY29udHJvbHNfZ2FtZXBhZF9pbWFnZSIsIkltYWdlIiwic3JjIiwiY29udHJvbHNfZ2FtZXBhZF9kZWZhdWx0IiwiY29udHJvbHNfa2V5Ym9hcmRfaW1hZ2UiLCJjb250cm9sc19rZXlib2FyZF9kZWZhdWx0IiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiZHJhd0ltYWdlIiwidG9TdHJpbmciLCJfX2V4dGVuZHMiLCJIZWxwZXIiLCJjb2xvckltYWdlIiwiaW1hZ2UiLCJoIiwib25sb2FkIiwidGVtcENhbnZhcyIsInRlbXBDdHgiLCJpbWFnZURhdGEiLCJnZXRJbWFnZURhdGEiLCJnIiwiYiIsInJ4IiwiZ3giLCJieCIsImFicyIsInB1dEltYWdlRGF0YSIsInRvRGF0YVVSTCIsImNvbG9ySW1hZ2VBbnkiLCJSZWN0YW5nbGUiLCJ5IiwiY29sbGlkZXNXaXRoIiwicmVjdGFuZ2xlIiwiaGl0eCIsImhpdHkiLCJwbGF5ZXJfUGxheWVyIiwicGxheWVyTnVtYmVyIiwiYmFsbFNwYXduZXIiLCJ0cmVlIiwicG9pbnRzIiwicG9zaXRpb24iLCJpc0p1bXBpbmciLCJ0b0lTT1N0cmluZyIsInZ5IiwiaW5uZXJIZWlnaHQiLCJiYXNlWSIsImJhbGxMZWZ0IiwibGVmdEJhbGwiLCJnZXRCYWxsIiwiZ2V0TGVmdEhhbmRIaXRSZWN0IiwiY29sb3IiLCJhZGRCYWxsIiwiYmFsbFJpZ2h0IiwicmlnaHRCYWxsIiwiZ2V0UmlnaHRIYW5kSGl0UmVjdCIsImxlZnRIYW5kT2Zmc2V0IiwicmlnaHRIYW5kT2Zmc2V0IiwidG9wSGFuZE9mZnNldCIsImhhbmRTaXplIiwibW92ZUxlZnQiLCJwbGF5ZXJJbWFnZSIsInNhdmUiLCJzY2FsZSIsInJlc3RvcmUiLCJlbmQiLCJwbGF5ZXJfZGVmYXVsdCIsInRyZWVfVHJlZSIsIlRyZWUiLCJiYWxscyIsInBvaW50c0xpbmVzIiwiYmFsbCIsImdldEhpdFJlY3QiLCJyb3VuZCIsInRyZWVJbWFnZURhdGEiLCJpc1BvaW50T25UcmVlIiwicG9pbnRzWSIsInJlY2FsY3VsYXRlIiwidHJlZUltYWdlIiwicG9pbnRMaW5lIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJmb3JFYWNoIiwidHJlZV9kZWZhdWx0IiwieXMiLCJ4cyIsImJhbGxfQmFsbCIsImJhbGxJbWFnZSIsImJhbGxfZGVmYXVsdCIsIkFuaW1hdGlvblRpY2tlciIsImludGVydmFsTXMiLCJiYWxsU3Bhd25lcl9CYWxsU3Bhd25lciIsInJhdGUiLCJiYWxsSW5kZXgiLCJzcGF3bkJhbGwiLCJ0aWNrZXIiLCJyZW1vdmVJbmRpY2VzIiwiZ2FtZVZpZXdfR2FtZVZpZXciLCJHYW1lVmlldyIsInBsYXllciIsImN1cnJlbnRUaW1lIiwicGxheVRpbWUiLCJpbnRyb2R1Y3Rpb24iLCJzcGF3bmVyIiwiZ2FtZUZpbmlzaGVkIiwiYWxsb3dOZXdHYW1lIiwicmVxdWVzdE5ld0dhbWUiLCJ0aW1lclVwZGF0ZSIsInNlY29uZHNMZWZ0Iiwic29ydCIsInMxIiwiczIiLCJmaWxsUmVjdCIsImdhbWVWaWV3X2V4dGVuZHMiLCJhcHBfQXBwIiwiQXBwIiwiZ2FtZSIsIm1lbnUiLCJuZXdHYW1lIiwicnVuIiwiY2hhbmdlRmF2aWNvbiIsImZhdmljb25fZGVmYXVsdCIsImxpbmsiLCJvbGRMaW5rIiwiZ2V0RWxlbWVudEJ5SWQiLCJpZCIsInJlbCIsImhlYWQiLCJyZW1vdmVDaGlsZCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEdBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxhQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFx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YUFBYXhLLGlCQUFpQnhELEVBQUsyRixPQUN6QzNGLEVBQUswVixPQUNMMVYsRUFBSzBWLEtBQUtWLGVBQWV4USxvQkFBb0J4RSxFQUFLNFYsU0FDbEQ1VixFQUFLMFYsS0FBS3hSLE9BQ1ZsRSxFQUFLMFYsS0FBTyxNQUdoQjFWLEVBQUtzRCxVQUFVNUIsUUFBUTFCLEVBQUsyVixNQUM1QjNWLEVBQUsyVixLQUFLMVIsUUFFbEIsT0EzQ1d3UixFQUFBaFcsVUFBQW9XLElBQVAsV0FDSTVWLEtBQUtxRCxVQUFZdkQsRUFBVThDLGVBQzNCNUMsS0FBSzZWLGNBQWNDLEVBQUExUSxHQUNuQnBGLEtBQUsyVixXQUdUSCxFQUFBaFcsVUFBQXFXLGNBQUEsU0FBYzFILEdBQ1YsSUFBSTRILEVBQU9sVCxTQUFTTSxjQUFjLFFBQzlCNlMsRUFBVW5ULFNBQVNvVCxlQUFlLG1CQUN0Q0YsRUFBS0csR0FBSyxrQkFDVkgsRUFBS0ksSUFBTSxnQkFDWEosRUFBSzdKLEtBQU9pQyxFQUNSNkgsR0FDQW5ULFNBQVN1VCxLQUFLQyxZQUFZTCxHQUU5Qm5ULFNBQVN1VCxLQUFLaFQsWUFBWTJTLElBNEJsQ1AsRUFoREEsR0NIQTNTLFNBQVNVLGlCQUFpQixtQkFFMUIsWUFDYyxJQUFJZ1MsR0FDWkssUUFKOEMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjI4NWFlMzIzOWYxYTYxNGE1YTA1YjRhYTEzY2UzMWE1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImY2YWE3ZjA0MjFhNWNlNGNlYzdjYzA2NjkwZmQzMzVlLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjA3MjE1Y2U5NDY5MTA0YzE0YWE0M2RhNDUwNmNkMTk5LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImVmZjA5NmY5ZTA2ZTM5MTE3Yjc1MWQ5ZWZkMTI4YjEzLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjcwZTZmNTI5MzE4ZDUwNDM2ODhjYTc3ZmJhOWQ5N2ZiLnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImYxNGZjZTQ3MzAyMDhmYTE1YTEzODQ2Y2RjNzU0ZTY5LnBuZ1wiOyIsImltcG9ydCB7IFZpZXcgfSBmcm9tIFwiLi92aWV3XCI7XHJcblxyXG5leHBvcnQgdHlwZSBBbmltYXRpb25GdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4gdm9pZDtcclxuZXhwb3J0IHR5cGUgVXBkYXRlRnVuY3Rpb24gPSAodGltZURpZmY6IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQW5pbWF0YWJsZSB7XHJcbiAgICB1cGRhdGU6IFVwZGF0ZUZ1bmN0aW9uO1xyXG4gICAgZHJhdzogQW5pbWF0aW9uRnVuY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBbmltYXRpb24ge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHByaXZhdGUgYW5pbWF0aW9uczogQW5pbWF0aW9uRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVzOiBVcGRhdGVGdW5jdGlvbltdID0gW107XHJcblxyXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUluQm9keSgpOiBBbmltYXRpb24ge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCIxMDAlXCJcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcblxyXG4gICAgICAgIHZhciBhbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBhbmltYXRpb24uY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDgwKSB7IC8vIHBcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5wbGF5UGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBhbmltYXRpb24uc3RhcnRBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24ucmVzaXplKCk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgYW5pbWF0aW9uLnJlc2l6ZSk7XHJcbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FudmFzIHJlc2l6aW5nXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLmNsaWVudEhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnRBbmltYXRpb24oKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdGFydCBhbmltYXRpb25cIik7XHJcblxyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgc3RvcEFuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0b3AgYW5pbWF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMuc3RvcEFuaW1hdGlvbigpIDogdGhpcy5zdGFydEFuaW1hdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goYW5pbWF0YWJsZS51cGRhdGUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGFibGUuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoYW5pbWF0YWJsZS51cGRhdGUpLCAxKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGFibGUuZHJhdyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRWaWV3ID0gKHZpZXc6IFZpZXcpID0+IHtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUodmlldyk7XHJcbiAgICAgICAgdmlldy53aWR0aCA9IHRoaXMud2lkdGg7XHJcbiAgICAgICAgdmlldy5oZWlnaHQgPSB0aGlzLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVmlldyA9ICh2aWV3OiBWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbmltYXRhYmxlKHZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHMgPSAzMjtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWwgPSAxMDAwIC8gdGhpcy5mcHM7XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRlID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG5cclxuICAgICAgICBpZiAoZWxhcHNlZCA+IHRoaXMuZnBzSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gbm93O1xyXG4gICAgICAgICAgICB2YXIgdGltZURpZmYgPSBlbGFwc2VkIC8gMTAwMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHRoaXMudXBkYXRlcykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRlIG9mIHRoaXMuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSh0aGlzLmN0eCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFRXZlbnRUVCB9IGZyb20gXCIuL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGVudW0gU2lnbmFscyB7XHJcbiAgICBzdGFydCA9IFwic3RhcnRcIixcclxuICAgIGxlZnQgPSBcImxlZnRcIixcclxuICAgIHVwID0gXCJ1cFwiLFxyXG4gICAgcmlnaHQgPSBcInJpZ2h0XCIsXHJcbiAgICBkb3duID0gXCJkb3duXCIsXHJcbiAgICBhID0gXCJhXCJcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQ29udHJvbGxlclR5cGUge1xyXG4gICAga2V5Ym9hcmQgPSBcImtleWJvYXJkXCIsXHJcbiAgICBnYW1lcGFkID0gXCJnYW1lcGFkXCJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb250cm9sbGVyIHtcclxuICAgIHhBeGVzOiBudW1iZXI7XHJcbiAgICB5QXhlczogbnVtYmVyO1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG5cclxuICAgIHN0YXJ0OiBib29sZWFuO1xyXG4gICAgYTogYm9vbGVhbjtcclxuXHJcbiAgICBzaWduYWw6IEVFdmVudFRUPENvbnRyb2xsZXIsIHN0cmluZz47XHJcbiAgICB0eXBlOiBDb250cm9sbGVyVHlwZVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0aW9uRnVuY3Rpb24sIFVwZGF0ZUZ1bmN0aW9uLCBBbmltYXRhYmxlLCBBbmltYXRpb24gfSBmcm9tIFwiLi9hbmltYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBWaWV3IGltcGxlbWVudHMgQW5pbWF0YWJsZSB7XHJcbiAgICBwdWJsaWMgYW5pbWF0aW9uczogQW5pbWF0aW9uRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHVibGljIHVwZGF0ZXM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgaXNWaXNpYmxlID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgd2lkdGg6IG51bWJlcjtcclxuICAgIHB1YmxpYyBoZWlnaHQ6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlIG9mIHRoaXMudXBkYXRlcykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgYW5pbWF0ZSBvZiB0aGlzLmFuaW1hdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGUoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2hvdyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGhpZGUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGlvbiA9IChmdW5jOiBBbmltYXRpb25GdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodGhpcy5hbmltYXRpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVXBkYXRlID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnNwbGljZSh0aGlzLnVwZGF0ZXMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGFuaW1hdGFibGUudXBkYXRlKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltYXRhYmxlLmRyYXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbmltYXRhYmxlID0gKGFuaW1hdGFibGU6IEFuaW1hdGFibGUpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhhbmltYXRhYmxlKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFuaW1hdGlvbnMubGVuZ3RoKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGFuaW1hdGFibGUudXBkYXRlKSwgMSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihhbmltYXRhYmxlLmRyYXcpLCAxKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFuaW1hdGlvbnMubGVuZ3RoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBFRXZlbnQge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFQ8VD4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnOiBUKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnOiBUKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFRUPFQxLCBUMj4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcxLCBhcmcyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sbGVyLCBTaWduYWxzLCBDb250cm9sbGVyVHlwZSB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBLZXlib2FyZENvbnRyb2xzIGltcGxlbWVudHMgQ29udHJvbGxlciB7XHJcbiAgICB0eXBlOiBDb250cm9sbGVyVHlwZTtcclxuICAgIHNpZ25hbDogRUV2ZW50VFQ8Q29udHJvbGxlciwgc3RyaW5nPjtcclxuICAgIHB1YmxpYyBhOiBib29sZWFuO1xyXG4gICAgcHVibGljIHhBeGVzOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeUF4ZXM6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgc3RhcnQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgdXBLZXk6IG51bWJlciwgbGVmdEtleTogbnVtYmVyLCBkb3duS2V5OiBudW1iZXIsIHJpZ2h0S2V5OiBudW1iZXIsIGE6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudHlwZSA9IENvbnRyb2xsZXJUeXBlLmtleWJvYXJkO1xyXG4gICAgICAgIHRoaXMuc2lnbmFsID0gbmV3IEVFdmVudFRUPENvbnRyb2xsZXIsIHN0cmluZz4oKTtcclxuICAgICAgICB0aGlzLnhBeGVzID0gMDtcclxuICAgICAgICB0aGlzLnlBeGVzID0gMDtcclxuICAgICAgICB0aGlzLnN0YXJ0ID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gbGVmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy54QXhlcyA9IC0xXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMubGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gdXBLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAtMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgU2lnbmFscy51cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gcmlnaHRLZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBTaWduYWxzLnJpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBkb3duS2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgU2lnbmFscy5kb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSAxMykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMuc3RhcnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMuYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gbGVmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueEF4ZXMgPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IHVwS2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55QXhlcyA9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gcmlnaHRLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnhBeGVzID0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueEF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGRvd25LZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnlBeGVzID0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lcGFkU2Nhbm5lciB7XHJcbiAgICBwcml2YXRlIGdhbWVwYWRTY2FubmVyOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGdhbWVwYWRzOiBHYW1lcGFkW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnNjYW5uZWRHYW1lcGFkID0gbmV3IEVFdmVudFQ8R2FtZXBhZD4oKTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXJ0KCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZXBhZFNjYW5uZXIgPSBzZXRJbnRlcnZhbCh0aGlzLnNjYW5nYW1lcGFkcywgNTAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCgpIHtcclxuICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZ2FtZXBhZFNjYW5uZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmdhbWVwYWRzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzY2FuZ2FtZXBhZHMgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzID8gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCkgOiBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdhbWVwYWRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChnYW1lcGFkc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEoZ2FtZXBhZHNbaV0uaW5kZXggaW4gdGhpcy5nYW1lcGFkcykgJiYgZ2FtZXBhZHNbaV0uYnV0dG9ucy5sZW5ndGggPj0gMTYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWRzW2dhbWVwYWRzW2ldLmluZGV4XSA9IGdhbWVwYWRzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nhbm5lZEdhbWVwYWQuZGlzcGF0Y2hFdmVudChnYW1lcGFkc1tpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNjYW5uZWRHYW1lcGFkOiBFRXZlbnRUPEdhbWVwYWQ+O1xyXG59IiwiaW1wb3J0IHsgQ29udHJvbGxlciwgQ29udHJvbGxlclR5cGUsIFNpZ25hbHMgfSBmcm9tIFwiLi9jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IEVFdmVudFRUIH0gZnJvbSBcIi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZXBhZENvbnRyb2xzIGltcGxlbWVudHMgQ29udHJvbGxlciB7XHJcbiAgICBzaWduYWw6IEVFdmVudFRUPENvbnRyb2xsZXIsIHN0cmluZz47XHJcbiAgICB0eXBlOiBDb250cm9sbGVyVHlwZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwcml2YXRlIGluZGV4OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnNpZ25hbCA9IG5ldyBFRXZlbnRUVDxDb250cm9sbGVyLCBzdHJpbmc+KCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gQ29udHJvbGxlclR5cGUuZ2FtZXBhZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHhBeGVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmF4ZXNbMF07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCB5QXhlcygpOiBudW1iZXIge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5heGVzWzFdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgc3RhcnQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmJ1dHRvbnNbOV0ucHJlc3NlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGEoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmJ1dHRvbnNbMF0ucHJlc3NlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHVwKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5idXR0b25zWzEyXS5wcmVzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgcmlnaHQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmJ1dHRvbnNbMTVdLnByZXNzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBkb3duKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5idXR0b25zWzEzXS5wcmVzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgbGVmdCgpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYnV0dG9uc1sxNF0ucHJlc3NlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW5hYmxlU2lnbmFscygpIHtcclxuICAgICAgICB0aGlzLnNpZ25hbExpc3RlbmVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0aW1lb3V0ID0gMC41O1xyXG4gICAgcHJpdmF0ZSBzaWduYWxpbmdUaW1lcnM6IHsgW2lkOiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xyXG5cclxuICAgIHByaXZhdGUgc2lnbmFsTGlzdGVuZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc2lnbmFsTGlzdGVuZXIpO1xyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLnN0YXJ0LCBTaWduYWxzLnN0YXJ0LCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy5hLCBTaWduYWxzLmEsIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLnVwLCBTaWduYWxzLnVwLCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy5yaWdodCwgU2lnbmFscy5yaWdodCwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMubGVmdCwgU2lnbmFscy5sZWZ0LCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy5kb3duLCBTaWduYWxzLmRvd24sIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLnlBeGVzIDwgLTAuNSwgU2lnbmFscy51cCwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMueUF4ZXMgPiAwLjUsIFNpZ25hbHMuZG93biwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMueEF4ZXMgPCAtMC41LCBTaWduYWxzLmxlZnQsIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLnhBeGVzID4gMC41LCBTaWduYWxzLnJpZ2h0LCBub3cpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2hlY2tTaWduYWwgPSAoaXNQcmVzc2VkOiBib29sZWFuLCBzaWduYWw6IFNpZ25hbHMsIG5vdzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKGlzUHJlc3NlZCkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2lnbmFsaW5nVGltZXJzW3NpZ25hbF0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsaW5nVGltZXJzW3NpZ25hbF0gPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBzaWduYWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKChub3cgLSB0aGlzLnNpZ25hbGluZ1RpbWVyc1tzaWduYWxdKSAvIDEwMDAgPj0gdGhpcy50aW1lb3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIHNpZ25hbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnbmFsaW5nVGltZXJzW3NpZ25hbF0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEh0dHAge1xyXG4gICAgcHVibGljIGdldCA9ICh1cmw6IHN0cmluZywgY2FsbGJhY2s/OiAocmVzcG9uc2U6IHN0cmluZykgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICB0aGlzLnJlcXVlc3QoXCJHRVRcIiwgdXJsLCBudWxsLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaylcclxuICAgIH1cclxuICAgIHB1YmxpYyBwb3N0ID0gKHVybDogc3RyaW5nLCBkYXRhOiBzdHJpbmcsIGNhbGxiYWNrPzogKHJlc3BvbnNlOiBzdHJpbmcpID0+IHZvaWQsIGVycm9yQ2FsbGJhY2s/OiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZXF1ZXN0KFwiUE9TVFwiLCB1cmwsIGRhdGEsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVxdWVzdCA9IChtZXRob2Q6IHN0cmluZywgdXJsOiBzdHJpbmcsIGRhdGE6IHN0cmluZywgY2FsbGJhY2s/OiAocmVzcG9uc2U6IHN0cmluZykgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhtZXRob2QgKyBcIiBcIiArIHVybCk7XHJcblxyXG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT0gNCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZXNwb25zZTogXCIgKyB4aHIuc3RhdHVzKTtcclxuICAgICAgICAgICAgICAgIGlmICh4aHIuc3RhdHVzID09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh4aHIucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcclxuICAgICAgICBpZiAobWV0aG9kID09IFwiUE9TVFwiKSB7XHJcbiAgICAgICAgICAgIHhoci5zZW5kKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBIdHRwIH0gZnJvbSBcIi4vaHR0cFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdlYlJ0Y0NsaWVudCB7XHJcbiAgICBydGNQZWVyQ29ubmVjdGlvbjogUlRDUGVlckNvbm5lY3Rpb247XHJcbiAgICBodHRwOiBIdHRwO1xyXG4gICAgc2lnU2VydmVVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDoxMzM3Lyc7XHJcbiAgICBzZXJ2ZXJOYW1lOiBzdHJpbmc7XHJcbiAgICBwcm9jZXNzTmFtZTogc3RyaW5nO1xyXG4gICAgY2FuZGlkYXRlQ2hlY2tJbnRlcnZhbDogbnVtYmVyO1xyXG4gICAgZGF0YUNoYW5uZWw6IFJUQ0RhdGFDaGFubmVsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNlcnZlck5hbWU6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuc2VydmVyTmFtZSA9IHNlcnZlck5hbWU7XHJcbiAgICAgICAgdGhpcy5odHRwID0gbmV3IEh0dHAoKTtcclxuICAgICAgICBjb25zdCBjb25maWd1cmF0aW9uID0geyBpY2VTZXJ2ZXJzOiBbeyB1cmxzOiAnc3R1bjpzdHVuMS5sLmdvb2dsZS5jb206MTkzMDInIH1dIH07XHJcbiAgICAgICAgdGhpcy5ydGNQZWVyQ29ubmVjdGlvbiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbihjb25maWd1cmF0aW9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5ydGNQZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgSUNFIGNhbmRpZGF0ZTogXFxuJyArIChlLmNhbmRpZGF0ZSA/IGUuY2FuZGlkYXRlLmNhbmRpZGF0ZSA6ICcobnVsbCknKSk7XHJcbiAgICAgICAgICAgIGlmIChlLmNhbmRpZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDYW5kaWRhdGUoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmNvbm5lY3RTaWdTZXJ2ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uLm9uZGF0YWNoYW5uZWwgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJoaSBkYXRhIGNoYW5uZWxcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmRhdGFDaGFubmVsID0gZXZlbnQuY2hhbm5lbDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbC5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbmREYXRhKFwiSGkgdGhlcmVcIik7XHJcbiAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAvLyB0aGlzLmh0dHAuZ2V0KHRoaXMuc2lnU2VydmVVcmwgKyBcImNyZWF0ZS9cIiArIHRoaXMuc2VydmVyTmFtZSwgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oSlNPTi5wYXJzZShKU09OLnBhcnNlKHJlc3BvbnNlKS5kZXNjKSk7XHJcbiAgICAgICAgLy8gICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCkudGhlbihcclxuICAgICAgICAvLyAgICAgICAgIChkZXNjKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgdGhpcy5ydGNQZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2MpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIC8vIHRoaXMuY29ubmVjdFNpZ1NlcnZlKEpTT04uc3RyaW5naWZ5KGRlc2MpKTtcclxuICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgLy8gICAgICAgICAoZXJyKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIgKyBlcnIpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICApXHJcbiAgICAgICAgLy8gfSlcclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDYW5kaWRhdGUoZTogUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlcnZlck5hbWUgJiYgdGhpcy5wcm9jZXNzTmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmh0dHAucG9zdCh0aGlzLnNpZ1NlcnZlVXJsICsgXCJjbGllbnRjYW5kaWRhdGUvXCIgKyB0aGlzLnNlcnZlck5hbWUgKyBcIi9cIiArIHRoaXMucHJvY2Vzc05hbWUsIEpTT04uc3RyaW5naWZ5KEpTT04uc3RyaW5naWZ5KGUuY2FuZGlkYXRlKSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDYW5kaWRhdGUoZSk7XHJcbiAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBjb25maWd1cmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmYWlsQ291bnRlciA9IDA7XHJcbiAgICBwcml2YXRlIGNvbm5lY3RTaWdTZXJ2ZSA9ICgpID0+IHtcclxuICAgICAgICB2YXIgcHJvY2Vzc05hbWUgPSB0aGlzLm1ha2VpZCgpO1xyXG4gICAgICAgIHRoaXMuaHR0cC5wb3N0KFxyXG4gICAgICAgICAgICB0aGlzLnNpZ1NlcnZlVXJsICsgXCJjb25uZWN0c3RhcnQvXCIgKyB0aGlzLnNlcnZlck5hbWUgKyBcIi9cIiArIHByb2Nlc3NOYW1lLFxyXG4gICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc05hbWUgPSBwcm9jZXNzTmFtZTtcclxuICAgICAgICAgICAgICAgIHRoaXMud2FpdEZvckNvbm5lY3RPZmZlcigpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZhaWxDb3VudGVyKys7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWlsQ291bnRlciA8IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3RTaWdTZXJ2ZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgd2FpdEZvckNvbm5lY3RPZmZlciA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmh0dHAuZ2V0KHRoaXMuc2lnU2VydmVVcmwgKyBcImNvbm5lY3RvZmZlci9cIiArIHRoaXMuc2VydmVyTmFtZSArIFwiL1wiICsgdGhpcy5wcm9jZXNzTmFtZSwgKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oSlNPTi5wYXJzZShKU09OLnBhcnNlKHJlc3BvbnNlKSkpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ydGNQZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKS50aGVuKFxyXG4gICAgICAgICAgICAgICAgICAgIChkZXNjKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoSlNPTi5zdHJpbmdpZnkoZGVzYykpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaHR0cC5wb3N0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWdTZXJ2ZVVybCArIFwiY29ubmVjdGFuc3dlci9cIiArIHRoaXMuc2VydmVyTmFtZSArIFwiL1wiICsgdGhpcy5wcm9jZXNzTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KEpTT04uc3RyaW5naWZ5KGRlc2MpKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tDYW5kaWRhdGVzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6IFwiICsgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBjb25uZWN0b2ZmZXJcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmV0cnlpbmcuLi5cIik7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YWl0Rm9yQ29ubmVjdE9mZmVyKCk7XHJcbiAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZGVkQ2FuZGlkYXRlczogYW55W10gPSBbXTtcclxuICAgIHByaXZhdGUgY2hlY2tDYW5kaWRhdGVzID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tDYW5kaWRhdGVzXCIpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXJ2ZXJOYW1lICYmIHRoaXMucHJvY2Vzc05hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5odHRwLmdldCh0aGlzLnNpZ1NlcnZlVXJsICsgXCJzZXJ2ZXJjYW5kaWRhdGUvXCIgKyB0aGlzLnNlcnZlck5hbWUgKyBcIi9cIiArIHRoaXMucHJvY2Vzc05hbWUsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZXMgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2FuZGlkYXRlcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IEpTT04ucGFyc2UoY2FuZGlkYXRlc1tqXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFkZGVkQ2FuZGlkYXRlcy5pbmRleE9mKGNhbmRpZGF0ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYWRkIGNhbmRpZGF0ZVwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24uYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkZWRDYW5kaWRhdGVzLnB1c2goY2FuZGlkYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zZW5kRGF0YShcInRlc3QxMjNcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0NhbmRpZGF0ZXMoKTtcclxuICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBjb25maWd1cmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kRGF0YShkYXRhOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmRhdGFDaGFubmVsLnNlbmQoZGF0YSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG1ha2VpZCgpIHtcclxuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKylcclxuICAgICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBjbG9zZURhdGFDaGFubmVscygpIHtcclxuICAgIC8vICAgICB0aGlzLnNlbmRDaGFubmVsLmNsb3NlKCk7XHJcbiAgICAvLyAgICAgdGhpcy5yZWNlaXZlQ2hhbm5lbC5jbG9zZSgpO1xyXG4gICAgLy8gICAgIHRoaXMubG9jYWxDb25uZWN0aW9uLmNsb3NlKCk7XHJcbiAgICAvLyAgICAgdGhpcy5sb2NhbENvbm5lY3Rpb24gPSBudWxsO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gZ290RGVzY3JpcHRpb24xKGRlc2MpIHtcclxuICAgIC8vICAgICBsb2NhbENvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjKTtcclxuICAgIC8vICAgICByZW1vdGVDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGRlc2MpO1xyXG4gICAgLy8gICAgIHJlbW90ZUNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCkudGhlbihcclxuICAgIC8vICAgICAgICAgZ290RGVzY3JpcHRpb24yLFxyXG4gICAgLy8gICAgICAgICBvbkNyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbkVycm9yXHJcbiAgICAvLyAgICAgKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBnb3REZXNjcmlwdGlvbjIoZGVzYykge1xyXG4gICAgLy8gICAgIHJlbW90ZUNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjKTtcclxuICAgIC8vICAgICBsb2NhbENvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oZGVzYyk7XHJcbiAgICAvLyB9XHJcbn0iLCJpbXBvcnQgeyBIdHRwIH0gZnJvbSBcIi4vaHR0cFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFdlYlJ0Y1NlcnZlciB7XHJcbiAgICBydGNQZWVyQ29ubmVjdGlvbjogUlRDUGVlckNvbm5lY3Rpb247XHJcbiAgICBodHRwOiBIdHRwO1xyXG4gICAgc2lnU2VydmVVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDoxMzM3Lyc7XHJcbiAgICBzZXJ2ZXJOYW1lOiBzdHJpbmc7XHJcbiAgICBjb25uZWN0aW9uQ2hlY2tJbnRlcnZhbDogbnVtYmVyO1xyXG4gICAgcHJvY2Vzc2VzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgY2FuZGlkYXRlQ2hlY2tJbnRlcnZhbDogbnVtYmVyO1xyXG4gICAgcHJvY2Vzc05hbWU6IHN0cmluZztcclxuXHJcbiAgICBpc0Nvbm5lY3RpbmcgPSBmYWxzZTtcclxuICAgIGRhdGFDaGFubmVsOiBSVENEYXRhQ2hhbm5lbDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaHR0cCA9IG5ldyBIdHRwKCk7XHJcbiAgICAgICAgY29uc3QgY29uZmlndXJhdGlvbiA9IHsgaWNlU2VydmVyczogW3sgdXJsczogJ3N0dW46c3R1bjEubC5nb29nbGUuY29tOjE5MzAyJyB9XSB9O1xyXG4gICAgICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oY29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgdGhpcy5kYXRhQ2hhbm5lbCA9IHRoaXMucnRjUGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoJ2NoYXQnKTtcclxuICAgICAgICB0aGlzLmRhdGFDaGFubmVsLm9ubWVzc2FnZSA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpO1xyXG4gICAgICAgICAgICB0aGlzLnNlbmREYXRhKFwiYW5zd2VyXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ydGNQZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCcgSUNFIGNhbmRpZGF0ZTogXFxuJyArIChlLmNhbmRpZGF0ZSA/IGUuY2FuZGlkYXRlLmNhbmRpZGF0ZSA6ICcobnVsbCknKSk7XHJcbiAgICAgICAgICAgIGlmIChlLmNhbmRpZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDYW5kaWRhdGUoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uLm9ubmVnb3RpYXRpb25uZWVkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicnRjUGVlckNvbm5lY3Rpb24ub25uZWdvdGlhdGlvbm5lZWRlZFwiKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJ0Y1BlZXJDb25uZWN0aW9uLm9ubmVnb3RpYXRpb25uZWVkZWQgaXMgY29ubmVjdGluZ1wiKTtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ydGNQZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChkZXNjKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZXJyb3I6IFwiICsgZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZVNpZ1NlcnZlKCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGZhaWxDb3VudGVyID0gMDtcclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVNpZ1NlcnZlKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRpbmcgc2lnIHNlcnZlXCIpO1xyXG5cclxuICAgICAgICB2YXIgc2VydmVyTmFtZSA9IHRoaXMubWFrZWlkKCk7XHJcbiAgICAgICAgdGhpcy5odHRwLnBvc3QoXHJcbiAgICAgICAgICAgIHRoaXMuc2lnU2VydmVVcmwgKyBcImNyZWF0ZS9cIiArIHNlcnZlck5hbWUsXHJcbiAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjcmVhdGluZyBzaWcgc2VydmUgc3VjZXNzZnVsXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJOYW1lID0gc2VydmVyTmFtZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgXCIjXCIgKyB0aGlzLnNlcnZlck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YWl0Rm9yQ29ubmVjdFN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmFpbENvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhaWxDb3VudGVyIDwgNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRpbmcgc2lnIHNlcnZlIHJldHJ5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2lnU2VydmUoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHdhaXRGb3JDb25uZWN0U3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5odHRwLmdldCh0aGlzLnNpZ1NlcnZlVXJsICsgXCJjb25uZWN0c3RhcnQvXCIgKyB0aGlzLnNlcnZlck5hbWUsIChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3NOYW1lID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHRoaXMucnRjUGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKS50aGVuKFxyXG4gICAgICAgICAgICAgICAgKGRlc2MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oZGVzYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5odHRwLnBvc3QoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnU2VydmVVcmwgKyBcImNvbm5lY3RvZmZlci9cIiArIHRoaXMuc2VydmVyTmFtZSArIFwiL1wiICsgdGhpcy5wcm9jZXNzTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoSlNPTi5zdHJpbmdpZnkoZGVzYykpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2FpdEZvckNvbm5lY3RBbnN3ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlcnJvcjogXCIgKyBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0sICgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJubyBjb25uZWN0c3RhcnRcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmV0cnlpbmcuLi5cIik7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YWl0Rm9yQ29ubmVjdFN0YXJ0KCk7XHJcbiAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgd2FpdEZvckNvbm5lY3RBbnN3ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5odHRwLmdldCh0aGlzLnNpZ1NlcnZlVXJsICsgXCJjb25uZWN0YW5zd2VyL1wiICsgdGhpcy5zZXJ2ZXJOYW1lICsgXCIvXCIgKyB0aGlzLnByb2Nlc3NOYW1lLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJnb3QgYW5zd2VyXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ydGNQZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbihKU09OLnBhcnNlKEpTT04ucGFyc2UocmVzcG9uc2UpKSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFmdGVyIHNldFJlbW90ZURlc2NyaXB0aW9uXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0NhbmRpZGF0ZXMoKTtcclxuICAgICAgICAgICAgfSwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vIGNvbm5lY3RhbnN3ZXJcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmV0cnlpbmcuLi5cIik7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy53YWl0Rm9yQ29ubmVjdEFuc3dlcigpO1xyXG4gICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRlZENhbmRpZGF0ZXM6IGFueVtdID0gW107XHJcbiAgICBwcml2YXRlIGNoZWNrQ2FuZGlkYXRlcyA9ICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImNoZWNrQ2FuZGlkYXRlc1wiKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2VydmVyTmFtZSAmJiB0aGlzLnByb2Nlc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaHR0cC5nZXQodGhpcy5zaWdTZXJ2ZVVybCArIFwiY2xpZW50Y2FuZGlkYXRlL1wiICsgdGhpcy5zZXJ2ZXJOYW1lICsgXCIvXCIgKyB0aGlzLnByb2Nlc3NOYW1lLCAocmVzcG9uc2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjYW5kaWRhdGVzID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNhbmRpZGF0ZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW5kaWRhdGUgPSBKU09OLnBhcnNlKGNhbmRpZGF0ZXNbal0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hZGRlZENhbmRpZGF0ZXMuaW5kZXhPZihjYW5kaWRhdGUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFkZCBjYW5kaWRhdGVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJ0Y1BlZXJDb25uZWN0aW9uLmFkZEljZUNhbmRpZGF0ZShjYW5kaWRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZGVkQ2FuZGlkYXRlcy5wdXNoKGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHRoaXMuc2VuZERhdGEoXCJ0ZXN0MTIzc2VydmVyXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tDYW5kaWRhdGVzKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJub3QgY29uZmlndXJlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDYW5kaWRhdGUoZTogUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlcnZlck5hbWUgJiYgdGhpcy5wcm9jZXNzTmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmh0dHAucG9zdCh0aGlzLnNpZ1NlcnZlVXJsICsgXCJzZXJ2ZXJjYW5kaWRhdGUvXCIgKyB0aGlzLnNlcnZlck5hbWUgKyBcIi9cIiArIHRoaXMucHJvY2Vzc05hbWUsIEpTT04uc3RyaW5naWZ5KEpTT04uc3RyaW5naWZ5KGUuY2FuZGlkYXRlKSkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRDYW5kaWRhdGUoZSk7XHJcbiAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBjb25maWd1cmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kRGF0YShkYXRhOiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLmRhdGFDaGFubmVsLnNlbmQoZGF0YSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIG1ha2VpZCgpIHtcclxuICAgICAgICB2YXIgdGV4dCA9IFwiXCI7XHJcbiAgICAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDU7IGkrKylcclxuICAgICAgICAgICAgdGV4dCArPSBwb3NzaWJsZS5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG9zc2libGUubGVuZ3RoKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0ZXh0O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBjbG9zZURhdGFDaGFubmVscygpIHtcclxuICAgIC8vICAgICB0aGlzLnNlbmRDaGFubmVsLmNsb3NlKCk7XHJcbiAgICAvLyAgICAgdGhpcy5yZWNlaXZlQ2hhbm5lbC5jbG9zZSgpO1xyXG4gICAgLy8gICAgIHRoaXMubG9jYWxDb25uZWN0aW9uLmNsb3NlKCk7XHJcbiAgICAvLyAgICAgdGhpcy5sb2NhbENvbm5lY3Rpb24gPSBudWxsO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gZ290RGVzY3JpcHRpb24xKGRlc2MpIHtcclxuICAgIC8vICAgICBsb2NhbENvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjKTtcclxuICAgIC8vICAgICByZW1vdGVDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKGRlc2MpO1xyXG4gICAgLy8gICAgIHJlbW90ZUNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCkudGhlbihcclxuICAgIC8vICAgICAgICAgZ290RGVzY3JpcHRpb24yLFxyXG4gICAgLy8gICAgICAgICBvbkNyZWF0ZVNlc3Npb25EZXNjcmlwdGlvbkVycm9yXHJcbiAgICAvLyAgICAgKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBnb3REZXNjcmlwdGlvbjIoZGVzYykge1xyXG4gICAgLy8gICAgIHJlbW90ZUNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjKTtcclxuICAgIC8vICAgICBsb2NhbENvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oZGVzYyk7XHJcbiAgICAvLyB9XHJcbn0iLCJpbXBvcnQgeyBXZWJSdGNDbGllbnQgfSBmcm9tIFwiLi93ZWJSdGNDbGllbnRcIjtcclxuaW1wb3J0IHsgV2ViUnRjU2VydmVyIH0gZnJvbSBcIi4vd2ViUnRjU2VydmVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgV2ViUnRjQ29ubmVjdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignIycpID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmVyTmFtZSA9IGRlY29kZVVSSSh3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzFdKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc2VydmVyTmFtZSk7XHJcbiAgICAgICAgICAgIHZhciBjbGllbnQgPSBuZXcgV2ViUnRjQ2xpZW50KHNlcnZlck5hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2ZXIgPSBuZXcgV2ViUnRjU2VydmVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL2VuYy92aWV3XCI7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIsIFNpZ25hbHMsIENvbnRyb2xsZXJUeXBlIH0gZnJvbSBcIi4vZW5jL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgS2V5Ym9hcmRDb250cm9scyB9IGZyb20gXCIuL2VuYy9rZXlib2FyZENvbnRyb2xzXCI7XHJcbmltcG9ydCB7IEdhbWVwYWRTY2FubmVyIH0gZnJvbSBcIi4vZW5jL2dhbWVwYWRTY2FubmVyXCI7XHJcbmltcG9ydCB7IEdhbWVwYWRDb250cm9scyB9IGZyb20gXCIuL2VuYy9nYW1lcGFkQ29udHJvbHNcIjtcclxuaW1wb3J0IGNvbnRyb2xzX2dhbWVwYWQgZnJvbSBcIi4vYXNzZXRzL2NvbnRyb2xzX2dhbWVwYWQucG5nXCI7XHJcbmltcG9ydCBjb250cm9sc19rZXlib2FyZCBmcm9tIFwiLi9hc3NldHMvY29udHJvbHNfa2V5Ym9hcmQucG5nXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuL2VuYy9lRXZlbnRcIjtcclxuaW1wb3J0IHsgV2ViUnRjQ29ubmVjdG9yIH0gZnJvbSBcIi4vZW5jL3dlYlJ0Y0Nvbm5lY3RvclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5NZW51VmlldyBleHRlbmRzIFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RlZE9wdGlvbjogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBvcHRpb25zOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHVibGljIGNvbnRyb2xsZXJzOiBDb250cm9sbGVyW10gPSBbXTtcclxuICAgIGNvbnRyb2xzX2dhbWVwYWRfaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb250cm9sc19rZXlib2FyZF9pbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuXHJcbiAgICBwcml2YXRlIHNob3dDb250cm9sczogYm9vbGVhbjtcclxuICAgIGdhbWVwYWRTY2FubmVyOiBHYW1lcGFkU2Nhbm5lcjtcclxuXHJcbiAgICBwdWJsaWMgcmVxdWVzdFN0YXJ0OiBFRXZlbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoXCJNZW51Vmlld1wiKTtcclxuICAgICAgICB0aGlzLnJlcXVlc3RTdGFydCA9IG5ldyBFRXZlbnQoKTtcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBbXCJTdGFydCBHYW1lXCIsIFwiU2hvdyAvIEhpZGUgQ29udHJvbHNcIl07XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IDA7XHJcbiAgICAgICAgdGhpcy5zaG93Q29udHJvbHMgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRyb2xzX2dhbWVwYWRfaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzX2dhbWVwYWRfaW1hZ2Uuc3JjID0gY29udHJvbHNfZ2FtZXBhZDtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzX2tleWJvYXJkX2ltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5jb250cm9sc19rZXlib2FyZF9pbWFnZS5zcmMgPSBjb250cm9sc19rZXlib2FyZDtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRpb24oKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG93Q29udHJvbHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBuZXdXaWR0aCA9IHdpZHRoIC8gMztcclxuICAgICAgICAgICAgICAgIGxldCBuZXdIZWlnaHQgPSBuZXdXaWR0aCAvIHRoaXMuY29udHJvbHNfZ2FtZXBhZF9pbWFnZS5uYXR1cmFsV2lkdGggKiB0aGlzLmNvbnRyb2xzX2dhbWVwYWRfaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5jb250cm9sc19nYW1lcGFkX2ltYWdlLCBuZXdXaWR0aCAtIG5ld1dpZHRoIC8gMiwgaGVpZ2h0ICogMyAvIDQgLSBuZXdIZWlnaHQgLyAyLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIG5ld0hlaWdodCA9IG5ld1dpZHRoIC8gdGhpcy5jb250cm9sc19rZXlib2FyZF9pbWFnZS5uYXR1cmFsV2lkdGggKiB0aGlzLmNvbnRyb2xzX2tleWJvYXJkX2ltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuY29udHJvbHNfa2V5Ym9hcmRfaW1hZ2UsIG5ld1dpZHRoICogMiAtIG5ld1dpZHRoIC8gMiwgaGVpZ2h0ICogMyAvIDQgLSBuZXdIZWlnaHQgLyAyLCBuZXdXaWR0aCwgbmV3SGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbih0aGlzLmRyYXdPcHRpb25zKTtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbih0aGlzLmRyYXdDb250cm9sbGVycyk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2FtZXBhZFNjYW5uZXIgPSBuZXcgR2FtZXBhZFNjYW5uZXIoKTtcclxuICAgICAgICB0aGlzLmdhbWVwYWRTY2FubmVyLnNjYW5uZWRHYW1lcGFkLmFkZEV2ZW50TGlzdGVuZXIoKGdhbWVwYWQ6IEdhbWVwYWQpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGRDb250cm9sbGVyKG5ldyBHYW1lcGFkQ29udHJvbHMoZ2FtZXBhZC5pbmRleC50b1N0cmluZygpLCBnYW1lcGFkLmluZGV4KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lcGFkU2Nhbm5lci5zdGFydCgpO1xyXG5cclxuICAgICAgICB2YXIgcnRjID0gbmV3IFdlYlJ0Y0Nvbm5lY3RvcigpO1xyXG5cclxuICAgICAgICB2YXIga2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmRDb250cm9scyhcImFycm93c1wiLCAzOCwgMzcsIDQwLCAzOSwgMzIpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29udHJvbGxlcihrZXlib2FyZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXdPcHRpb25zID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb250cm9sbGVycy5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gMjI7XHJcbiAgICAgICAgY29uc3QgbWFyZ2luID0gNTtcclxuICAgICAgICBjb25zdCBvcHRpb25zSGVpZ2h0ID0gKGZvbnRTaXplICsgbWFyZ2luICogMikgKiB0aGlzLm9wdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0SGVpZ2h0ID0gaGVpZ2h0IC8gMiAtIG9wdGlvbnNIZWlnaHQgLyAyO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5vcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMub3B0aW9uc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiOyAvLyBzdGFydCAvIGxlZnQgLyBjZW50ZXIgLyByaWdodCAvIGVuZFxyXG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJtaWRkbGVcIiAvLyBib3R0b20gLyBhbHBoYWJldGljIC8gbWlkZGxlIC8gaGFuZ2luZyAvIHRvcFxyXG4gICAgICAgICAgICBjdHguZm9udCA9IFwiMjJweCBzYW5zLXNlcmlmXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbkhlaWdodCA9IHN0YXJ0SGVpZ2h0ICsgbWFyZ2luICsgKGZvbnRTaXplICsgbWFyZ2luICogMikgKiBpO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQob3B0aW9uLCB3aWR0aCAvIDIsIG9wdGlvbkhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaSA9PT0gdGhpcy5zZWxlY3RlZE9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3Qod2lkdGggLyAyIC0gY3R4Lm1lYXN1cmVUZXh0KG9wdGlvbikud2lkdGggLyAyIC0gbWFyZ2luLCBvcHRpb25IZWlnaHQgLSBmb250U2l6ZSAvIDIgLSBtYXJnaW4sIGN0eC5tZWFzdXJlVGV4dChvcHRpb24pLndpZHRoICsgbWFyZ2luICogMiwgZm9udFNpemUgKyBtYXJnaW4gKiAyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhd0NvbnRyb2xsZXJzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBtYXJnaW4gPSAxNTtcclxuICAgICAgICB2YXIgY29udHJvbGxlcldpZHRoID0gNjA7XHJcbiAgICAgICAgdmFyIHRvdGFsV2lkdGggPSBtYXJnaW4gKyB0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCAqIChjb250cm9sbGVyV2lkdGggKyBtYXJnaW4pXHJcbiAgICAgICAgdmFyIHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHRvdGFsV2lkdGggLyAyXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImhzbChcIiArIGkgLyB0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCAqIDM2MCArIFwiLDEwMCUsIDQwJSlcIjtcclxuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuY29udHJvbGxlcnNbaV07XHJcbiAgICAgICAgICAgIHZhciB4ID0gc3RhcnRYICsgbWFyZ2luICsgKG1hcmdpbiArIGNvbnRyb2xsZXJXaWR0aCkgKiBpO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGVsZW1lbnQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyVHlwZS5nYW1lcGFkOlxyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gJzYwcHggRm9udEF3ZXNvbWUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCgnXFx1ZjExYicsIHgsIGhlaWdodCAvIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb250cm9sbGVyVHlwZS5rZXlib2FyZDpcclxuICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9ICc2MHB4IEZvbnRBd2Vzb21lJztcclxuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQoJ1xcdWYxMWMnLCB4LCBoZWlnaHQgLyA0KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRDb250cm9sbGVyID0gKGNvbnRyb2xsZXI6IENvbnRyb2xsZXIpID0+IHtcclxuICAgICAgICBpZiAoY29udHJvbGxlci50eXBlID09IENvbnRyb2xsZXJUeXBlLmdhbWVwYWQpIHtcclxuICAgICAgICAgICAgKDxHYW1lcGFkQ29udHJvbHM+Y29udHJvbGxlcikuZW5hYmxlU2lnbmFscygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKHRoaXMuY29udHJvbGxlclNpZ25hbClcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnRyb2xsZXJTaWduYWwgPSAoc2VuZGVyOiBDb250cm9sbGVyLCBzaWduYWw6IFNpZ25hbHMpID0+IHtcclxuICAgICAgICBpZiAoc2lnbmFsID09IFNpZ25hbHMuc3RhcnQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlcnMuaW5kZXhPZihzZW5kZXIpID49IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlcnMuc3BsaWNlKHRoaXMuY29udHJvbGxlcnMuaW5kZXhPZihzZW5kZXIpLCAxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlcnMucHVzaChzZW5kZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCA+IDAgJiYgdGhpcy5jb250cm9sbGVyc1swXSA9PSBzZW5kZXIpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChzaWduYWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgU2lnbmFscy5kb3duOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24rKztcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbiA+PSB0aGlzLm9wdGlvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU2lnbmFscy51cDpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uLS07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb24gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSB0aGlzLm9wdGlvbnMubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNpZ25hbHMuYTpcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuc2VsZWN0ZWRPcHRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lcGFkU2Nhbm5lci5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RTdGFydC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93Q29udHJvbHMgPSAhdGhpcy5zaG93Q29udHJvbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgSGVscGVyIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgY29sb3JJbWFnZSA9IChpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgaDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMud2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG4gICAgICAgICAgICB0ZW1wQ3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgICAgIHZhciBpbWFnZURhdGEgPSB0ZW1wQ3R4LmdldEltYWdlRGF0YSgwLCAwLCB0ZW1wQ2FudmFzLndpZHRoLCB0ZW1wQ2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5kYXRhLmxlbmd0aDsgaSA9IGkgKyA0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgciA9IGltYWdlRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgdmFyIGcgPSBpbWFnZURhdGEuZGF0YVtpICsgMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgYiA9IGltYWdlRGF0YS5kYXRhW2kgKyAyXTtcclxuICAgICAgICAgICAgICAgIHZhciBhID0gaW1hZ2VEYXRhLmRhdGFbaSArIDNdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChhID4gMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIgLSBnID4gNTAgJiYgciAtIGIgPiA1MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoID0gaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IDAuNTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gZSAqIHU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gYyAqICgxIC0gTWF0aC5hYnMoKGggLyA2MCkgJSAyIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGUgLSBjO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJ4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBieDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGggPCA2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAxMjApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMTgwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBneCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDI0MCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByeCA9IChyeCArIG0pICogMjU1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBneCA9IChneCArIG0pICogMjU1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBieCA9IChieCArIG0pICogMjU1O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaV0gPSByeDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaSArIDFdID0gZ3g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2kgKyAyXSA9IGJ4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0ZW1wQ3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xyXG5cclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdGVtcENhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4geyB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNvbG9ySW1hZ2VBbnkgPSAoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQsIGg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIHRlbXBDdHggPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICAgICAgdGVtcEN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSB0ZW1wQ3R4LmdldEltYWdlRGF0YSgwLCAwLCB0ZW1wQ2FudmFzLndpZHRoLCB0ZW1wQ2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpID0gaSArIDQpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBpbWFnZURhdGEuZGF0YVtpXTtcclxuICAgICAgICAgICAgdmFyIGcgPSBpbWFnZURhdGEuZGF0YVtpICsgMV07XHJcbiAgICAgICAgICAgIHZhciBiID0gaW1hZ2VEYXRhLmRhdGFbaSArIDJdO1xyXG4gICAgICAgICAgICB2YXIgYSA9IGltYWdlRGF0YS5kYXRhW2kgKyAzXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhID4gMC41KSB7XHJcbiAgICAgICAgICAgICAgICBoID0gaDtcclxuICAgICAgICAgICAgICAgIHZhciB1ID0gMTtcclxuICAgICAgICAgICAgICAgIHZhciBlID0gMC41O1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBjID0gZSAqIHU7XHJcbiAgICAgICAgICAgICAgICB2YXIgeCA9IGMgKiAoMSAtIE1hdGguYWJzKChoIC8gNjApICUgMiAtIDEpKTtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gZSAtIGM7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHJ4O1xyXG4gICAgICAgICAgICAgICAgdmFyIGd4O1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ4O1xyXG4gICAgICAgICAgICAgICAgaWYgKGggPCA2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICBneCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnggPSAwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMTIwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICBieCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAxODApIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3ggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ4ID0geDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDI0MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBneCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgYnggPSBjO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBieCA9IGM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICBneCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnggPSB4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcnggPSAocnggKyBtKSAqIDI1NTtcclxuICAgICAgICAgICAgICAgIGd4ID0gKGd4ICsgbSkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICBieCA9IChieCArIG0pICogMjU1O1xyXG5cclxuICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2ldID0gcng7XHJcbiAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpICsgMV0gPSBneDtcclxuICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2kgKyAyXSA9IGJ4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRlbXBDdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XHJcblxyXG4gICAgICAgIGltYWdlLnNyYyA9IHRlbXBDYW52YXMudG9EYXRhVVJMKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbWFnZURhdGEgPSAoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQsIGNhbGxiYWNrOiAoaW1hZ2VEYXRhOiBJbWFnZURhdGEpID0+IHZvaWQpID0+IHtcclxuICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgdmFyIHRlbXBDdHggPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICAgICAgICAgIHRlbXBDdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgICAgICAgICAgY2FsbGJhY2sodGVtcEN0eC5nZXRJbWFnZURhdGEoMCwgMCwgdGVtcENhbnZhcy53aWR0aCwgdGVtcENhbnZhcy5oZWlnaHQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUmVjdGFuZ2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIsIHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBjb2xsaWRlc1dpdGgocmVjdGFuZ2xlOiBSZWN0YW5nbGUpIHtcclxuICAgICAgICB2YXIgaGl0eCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBoaXR5ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy54IDw9IHJlY3RhbmdsZS54ICYmIHRoaXMueCArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnggPD0gdGhpcy54ICYmIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy54KSB7XHJcbiAgICAgICAgICAgICAgICBoaXR4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaGl0eCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy55IDw9IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55IDw9IHJlY3RhbmdsZS55ICYmIHRoaXMueSArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS55IDw9IHRoaXMueSAmJiByZWN0YW5nbGUueSArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaGl0eCAmJiBoaXR5O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0YWJsZSB9IGZyb20gXCIuL2VuYy9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciwgU2lnbmFscyB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCBwbGF5ZXJJbWFnZUFzc2V0IGZyb20gXCIuL2Fzc2V0cy9wbGF5ZXIucG5nXCI7XHJcbmltcG9ydCB7IEhlbHBlciB9IGZyb20gXCIuL2VuYy9oZWxwZXJcIjtcclxuaW1wb3J0IHsgQmFsbCB9IGZyb20gXCIuL2JhbGxcIjtcclxuaW1wb3J0IHsgQmFsbFNwYXduZXIgfSBmcm9tIFwiLi9iYWxsU3Bhd25lclwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi9lbmMvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFRyZWUgfSBmcm9tIFwiLi90cmVlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIGltcGxlbWVudHMgQW5pbWF0YWJsZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5ZXJJbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIHByaXZhdGUgeDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB5OiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgbW92ZUxlZnQ6IGJvb2xlYW47XHJcbiAgICB2eTogbnVtYmVyO1xyXG4gICAgZzogbnVtYmVyO1xyXG4gICAgaXNKdW1waW5nOiBib29sZWFuO1xyXG4gICAgYmFzZVk6IG51bWJlcjtcclxuXHJcbiAgICBiYWxsTGVmdDogQmFsbDtcclxuICAgIGJhbGxSaWdodDogQmFsbDtcclxuICAgIHBvc2l0aW9uOiBhbnk7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjb250cm9sbGVyOiBDb250cm9sbGVyLCBwdWJsaWMgcGxheWVyTnVtYmVyOiBudW1iZXIsIHByaXZhdGUgYmFsbFNwYXduZXI6IEJhbGxTcGF3bmVyLCBwcml2YXRlIHRyZWU6IFRyZWUpIHtcclxuICAgICAgICB0aGlzLnBsYXllckltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJJbWFnZS5zcmMgPSBwbGF5ZXJJbWFnZUFzc2V0O1xyXG4gICAgICAgIEhlbHBlci5jb2xvckltYWdlKHRoaXMucGxheWVySW1hZ2UsIHRoaXMucGxheWVyTnVtYmVyICogMzYwKTtcclxuICAgICAgICB0aGlzLnggPSAwO1xyXG4gICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICAgICAgdGhpcy52eSA9IDA7XHJcbiAgICAgICAgdGhpcy5nID0gMzAwMDtcclxuICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuYmFsbExlZnQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuYmFsbFJpZ2h0ID0gbnVsbDtcclxuICAgICAgICBjb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKHRoaXMuY29udHJvbGxlclNpZ25hbClcclxuXHJcblxyXG4gICAgICAgIHRoaXMuY29sb3IgPSBcImhzbChcIiArIHBsYXllck51bWJlciAqIDM2MCArIFwiLDEwMCUsIDMwJSlcIlxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwb2ludHMgPSAwO1xyXG5cclxuICAgIHByaXZhdGUgY29udHJvbGxlclNpZ25hbCA9IChzZW5kZXI6IENvbnRyb2xsZXIsIHNpZ25hbDogU2lnbmFscykgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHNpZ25hbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTaWduYWxzLnVwOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgKyAnOiAnICsgdGhpcy55KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudnkgPSAtMjAwMCAvIDk2OSAqIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYXNlWSA9IHRoaXMueTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNpZ25hbHMuYTpcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWxsTGVmdCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZWZ0QmFsbCA9IHRoaXMuYmFsbFNwYXduZXIuZ2V0QmFsbCh0aGlzLmdldExlZnRIYW5kSGl0UmVjdCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnRCYWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0QmFsbC5jb2xvcih0aGlzLnBsYXllck51bWJlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbGxMZWZ0ID0gbGVmdEJhbGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy50cmVlLmFkZEJhbGwodGhpcy5iYWxsTGVmdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludHMgKz0gcG9pbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWxsTGVmdCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYmFsbFJpZ2h0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJpZ2h0QmFsbCA9IHRoaXMuYmFsbFNwYXduZXIuZ2V0QmFsbCh0aGlzLmdldFJpZ2h0SGFuZEhpdFJlY3QoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyaWdodEJhbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0QmFsbC5jb2xvcih0aGlzLnBsYXllck51bWJlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbGxSaWdodCA9IHJpZ2h0QmFsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnRyZWUuYWRkQmFsbCh0aGlzLmJhbGxSaWdodCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludHMgKz0gcG9pbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWxsUmlnaHQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbGVmdEhhbmRPZmZzZXQgPSA1O1xyXG4gICAgcHJpdmF0ZSByaWdodEhhbmRPZmZzZXQgPSAxMjA7XHJcbiAgICBwcml2YXRlIHRvcEhhbmRPZmZzZXQgPSAxNDBcclxuICAgIHByaXZhdGUgaGFuZFNpemUgPSAyNTtcclxuXHJcbiAgICBwcml2YXRlIGdldExlZnRIYW5kSGl0UmVjdCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggKyB0aGlzLmxlZnRIYW5kT2Zmc2V0LCB0aGlzLnkgKyB0aGlzLnRvcEhhbmRPZmZzZXQsIHRoaXMuaGFuZFNpemUsIHRoaXMuaGFuZFNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0UmlnaHRIYW5kSGl0UmVjdCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggKyB0aGlzLnJpZ2h0SGFuZE9mZnNldCwgdGhpcy55ICsgdGhpcy50b3BIYW5kT2Zmc2V0LCB0aGlzLmhhbmRTaXplLCB0aGlzLmhhbmRTaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy54ICsgdGhpcy5jb250cm9sbGVyLnhBeGVzICogdGltZURpZmYgKiA1MDAgKiAyO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVyLnhBeGVzIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlTGVmdCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250cm9sbGVyLnhBeGVzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlTGVmdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnkgPSB0aGlzLnkgKyB0aGlzLnZ5ICogdGltZURpZmY7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzSnVtcGluZykge1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMudnkgPD0gMCAmJiB0aGlzLnZ5ICsgdGhpcy5nICogdGltZURpZmYgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgKyAnOiAnICsgdGhpcy55KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnZ5ID0gdGhpcy52eSArIHRoaXMuZyAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICBpZiAodGhpcy55ID4gdGhpcy5iYXNlWSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52eSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSB0aGlzLmJhc2VZO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3IERhdGUoKS50b0lTT1N0cmluZygpICsgJzogJyArIHRoaXMueSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5iYWxsTGVmdCkge1xyXG4gICAgICAgICAgICB0aGlzLmJhbGxMZWZ0LnggPSB0aGlzLnggKyB0aGlzLmxlZnRIYW5kT2Zmc2V0ICsgdGhpcy5oYW5kU2l6ZSAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbExlZnQueSA9IHRoaXMueSArIHRoaXMudG9wSGFuZE9mZnNldCAtIHRoaXMuaGFuZFNpemU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5iYWxsUmlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsUmlnaHQueCA9IHRoaXMueCArIHRoaXMucmlnaHRIYW5kT2Zmc2V0ICsgdGhpcy5oYW5kU2l6ZSAvIDI7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbFJpZ2h0LnkgPSB0aGlzLnkgKyB0aGlzLnRvcEhhbmRPZmZzZXQgLSB0aGlzLmhhbmRTaXplO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnkgPT0gMCAmJiB0aGlzLnBsYXllckltYWdlLm5hdHVyYWxIZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy55ID0gaGVpZ2h0IC0gNDAgLSB0aGlzLnBsYXllckltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMubW92ZUxlZnQpIHtcclxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgY3R4LnNjYWxlKC0xLCAxKTtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLnBsYXllckltYWdlLCAtdGhpcy54ICsgLXRoaXMucGxheWVySW1hZ2UubmF0dXJhbFdpZHRoLCB0aGlzLnkpO1xyXG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5wbGF5ZXJJbWFnZSwgdGhpcy54LCB0aGlzLnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYmFsbExlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsTGVmdC5kcmF3KGN0eCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5iYWxsUmlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsUmlnaHQuZHJhdyhjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xyXG4gICAgICAgIGN0eC5mb250ID0gXCI2MHB4IHNhbnMtc2VyaWZcIjtcclxuICAgICAgICBjdHguZmlsbFRleHQodGhpcy5wb2ludHMudG9TdHJpbmcoKSwgMCwgaGVpZ2h0ICogdGhpcy5wbGF5ZXJOdW1iZXIpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjdHguZm9udCA9ICg4MCAtIHRoaXMucG9zaXRpb24gKiA3KSArIFwicHggc2Fucy1zZXJpZlwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy5wb3NpdGlvbiArIFwiLlwiLCAxNTAsIGhlaWdodCAqIHRoaXMucGxheWVyTnVtYmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuZCA9IChwb3NpdGlvbjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0YWJsZSB9IGZyb20gXCIuL2VuYy9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciwgU2lnbmFscyB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCB0cmVlSW1hZ2VBc3NldCBmcm9tIFwiLi9hc3NldHMvdHJlZS5wbmdcIjtcclxuaW1wb3J0IHsgSGVscGVyIH0gZnJvbSBcIi4vZW5jL2hlbHBlclwiO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSBcIi4vYmFsbFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi9lbmMvcmVjdGFuZ2xlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZSBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG4gICAgcHJpdmF0ZSB0cmVlSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHg6IG51bWJlcjtcclxuICAgIHByaXZhdGUgeTogbnVtYmVyO1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIGJhbGxzOiBCYWxsW10gPSBbXTtcclxuICAgIHRyZWVJbWFnZURhdGE6IEltYWdlRGF0YTtcclxuICAgIHJlY2FsY3VsYXRlOiBib29sZWFuO1xyXG4gICAgd2lkdGg6IG51bWJlcjtcclxuICAgIGhlaWdodDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBwb2ludHNMaW5lcyA9IFswLjAsIDAuMywgMC41LCAwLjcsIDAuOCwgMC45XTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnRyZWVJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMudHJlZUltYWdlLnNyYyA9IHRyZWVJbWFnZUFzc2V0O1xyXG4gICAgICAgIHRoaXMucmVjYWxjdWxhdGUgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnggPSAwO1xyXG4gICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEJhbGwgPSAoYmFsbDogQmFsbCk6IG51bWJlciA9PiB7XHJcbiAgICAgICAgaWYgKGJhbGwuZ2V0SGl0UmVjdCgpLmNvbGxpZGVzV2l0aChuZXcgUmVjdGFuZ2xlKHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCkpKSB7XHJcbiAgICAgICAgICAgIHZhciB4ID0gTWF0aC5yb3VuZCgoYmFsbC54IC0gdGhpcy54KSAvIHRoaXMud2lkdGggKiB0aGlzLnRyZWVJbWFnZURhdGEud2lkdGgpO1xyXG4gICAgICAgICAgICB2YXIgeSA9IE1hdGgucm91bmQoKGJhbGwueSAtIHRoaXMueSkgLyB0aGlzLmhlaWdodCAqIHRoaXMudHJlZUltYWdlRGF0YS5oZWlnaHQpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIGxldCBpc0JhbGxPblRyZWUgPSB0aGlzLmlzUG9pbnRPblRyZWUoeSwgeCk7XHJcbiAgICAgICAgICAgIGlmIChpc0JhbGxPblRyZWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbHMucHVzaChiYWxsKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnRzWSA9IDEgLSAoYmFsbC55IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRzTGluZXMubGVuZ3RoIC0gMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRzTGluZSA9IHRoaXMucG9pbnRzTGluZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvaW50c1kgPCB0aGlzLnBvaW50c0xpbmVzW2kgKyAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9pbnRzTGluZXMubGVuZ3RoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVjYWxjdWxhdGUpIHtcclxuICAgICAgICAgICAgbGV0IG5ld0hlaWdodCA9IGhlaWdodCAqIDMgLyA0O1xyXG4gICAgICAgICAgICBsZXQgbmV3V2lkdGggPSBuZXdIZWlnaHQgLyB0aGlzLnRyZWVJbWFnZS5uYXR1cmFsV2lkdGggKiB0aGlzLnRyZWVJbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLnggPSB3aWR0aCAtIG5ld1dpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSBoZWlnaHQgLSBuZXdIZWlnaHQgLSAyMDtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IG5ld1dpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IG5ld0hlaWdodDtcclxuICAgICAgICAgICAgSGVscGVyLmdldEltYWdlRGF0YSh0aGlzLnRyZWVJbWFnZSwgKGltYWdlRGF0YSkgPT4gdGhpcy50cmVlSW1hZ2VEYXRhID0gaW1hZ2VEYXRhKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucG9pbnRzTGluZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRMaW5lID0gMSAtIHRoaXMucG9pbnRzTGluZXNbaV07XHJcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY3R4Lm1vdmVUbyh0aGlzLnggKyB0aGlzLndpZHRoIC8gMiwgdGhpcy55ICsgdGhpcy5oZWlnaHQgKiBwb2ludExpbmUpO1xyXG4gICAgICAgICAgICBjdHgubGluZVRvKHRoaXMueCArIHRoaXMud2lkdGgsIHRoaXMueSArIHRoaXMuaGVpZ2h0ICogcG9pbnRMaW5lKTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwiYm90dG9tXCI7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcInJpZ2h0XCI7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gXCI2MHB4IHNhbnMtc2VyaWZcIjtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KChpICsgMSkudG9TdHJpbmcoKSwgdGhpcy54ICsgdGhpcy53aWR0aCwgdGhpcy55ICsgdGhpcy5oZWlnaHQgKiBwb2ludExpbmUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLnRyZWVJbWFnZSwgdGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmJhbGxzLmZvckVhY2goYmFsbCA9PiB7XHJcbiAgICAgICAgICAgIGJhbGwuZHJhdyhjdHgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc1BvaW50T25UcmVlKHk6IG51bWJlciwgeDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudHJlZUltYWdlRGF0YSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB5cyA9IHkgLSA1OyB5cyA8IHkgKyA1OyB5cysrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB4cyA9IHggLSA1OyB4cyA8IHggKyA1OyB4cysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSB0aGlzLnRyZWVJbWFnZURhdGEuZGF0YVt4cyAqIDQgKyB5cyAqIDQgKiB0aGlzLnRyZWVJbWFnZURhdGEud2lkdGggKyAzXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYSA+IDAuNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0YWJsZSB9IGZyb20gXCIuL2VuYy9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciwgU2lnbmFscyB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCBiYWxsSW1hZ2VBc3NldCBmcm9tIFwiLi9hc3NldHMvYmFsbC5wbmdcIjtcclxuaW1wb3J0IHsgSGVscGVyIH0gZnJvbSBcIi4vZW5jL2hlbHBlclwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi9lbmMvcmVjdGFuZ2xlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFsbCBpbXBsZW1lbnRzIEFuaW1hdGFibGUge1xyXG4gICAgcHJpdmF0ZSBiYWxsSW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gICAgcHVibGljIHk6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmJhbGxJbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuYmFsbEltYWdlLnNyYyA9IGJhbGxJbWFnZUFzc2V0O1xyXG4gICAgICAgIEhlbHBlci5jb2xvckltYWdlKHRoaXMuYmFsbEltYWdlLCBNYXRoLnJhbmRvbSgpICogMzYwKTtcclxuICAgICAgICB0aGlzLnggPSAwO1xyXG4gICAgICAgIHRoaXMueSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEhpdFJlY3QgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWN0YW5nbGUodGhpcy54IC0gdGhpcy5iYWxsSW1hZ2UubmF0dXJhbFdpZHRoIC8gMiwgdGhpcy55LCB0aGlzLmJhbGxJbWFnZS5uYXR1cmFsV2lkdGgsIHRoaXMuYmFsbEltYWdlLm5hdHVyYWxIZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb2xvciA9IChwbGF5ZXJOdW1iZXI6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY29sb3JcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgSGVscGVyLmNvbG9ySW1hZ2VBbnkodGhpcy5iYWxsSW1hZ2UsIHBsYXllck51bWJlciAqIDM2MClcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5iYWxsSW1hZ2UsIHRoaXMueCAtIHRoaXMuYmFsbEltYWdlLm5hdHVyYWxXaWR0aCAvIDIsIHRoaXMueSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQW5pbWF0aW9uVGlja2VyIHtcclxuICAgIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgaW50ZXJ2YWxNczogbnVtYmVyLCBwcml2YXRlIGZ1bmM6ICgpID0+IHZvaWQpIHsgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5sYXN0RnJhbWVUaW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmludGVydmFsTXMpIHtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdGhpcy5mdW5jKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQW5pbWF0YWJsZSB9IGZyb20gXCIuL2VuYy9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciwgU2lnbmFscyB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCBwbGF5ZXJJbWFnZUFzc2V0IGZyb20gXCIuL2Fzc2V0cy9iYWxsLnBuZ1wiO1xyXG5pbXBvcnQgeyBIZWxwZXIgfSBmcm9tIFwiLi9lbmMvaGVscGVyXCI7XHJcbmltcG9ydCB7IEJhbGwgfSBmcm9tIFwiLi9iYWxsXCI7XHJcbmltcG9ydCB7IEFuaW1hdGlvblRpY2tlciB9IGZyb20gXCIuL2VuYy9hbmltYXRpb25UaWNrZXJcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4vZW5jL3JlY3RhbmdsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhbGxTcGF3bmVyIGltcGxlbWVudHMgQW5pbWF0YWJsZSB7XHJcblxyXG4gICAgcHJpdmF0ZSByYXRlID0gMjA7XHJcbiAgICBwcml2YXRlIGJhbGxzOiBCYWxsW10gPSBbXTtcclxuICAgIHRpY2tlcjogQW5pbWF0aW9uVGlja2VyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsTXM6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudGlja2VyID0gbmV3IEFuaW1hdGlvblRpY2tlcihpbnRlcnZhbE1zLCB0aGlzLnNwYXduQmFsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEJhbGwgPSAocmVjdGFuZ2xlOiBSZWN0YW5nbGUpOiBCYWxsID0+IHtcclxuICAgICAgICB2YXIgYmFsbEluZGV4ID0gLTE7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhbGxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhbGwgPSB0aGlzLmJhbGxzW2ldO1xyXG4gICAgICAgICAgICBpZiAoYmFsbC5nZXRIaXRSZWN0KCkuY29sbGlkZXNXaXRoKHJlY3RhbmdsZSkpIHtcclxuICAgICAgICAgICAgICAgIGJhbGxJbmRleCA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGJhbGxJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgIHZhciBiYWxsID0gdGhpcy5iYWxsc1tiYWxsSW5kZXhdO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGxzLnNwbGljZShiYWxsSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gYmFsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzcGF3bkJhbGwgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGJhbGwgPSBuZXcgQmFsbCgpO1xyXG4gICAgICAgIGJhbGwueCA9IE1hdGgucmFuZG9tKCkgKiA2MDAgKyAxMDA7XHJcbiAgICAgICAgYmFsbC55ID0gLTEwMDtcclxuICAgICAgICB0aGlzLmJhbGxzLnB1c2goYmFsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy50aWNrZXIudXBkYXRlKHRpbWVEaWZmKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmFsbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYmFsbCA9IHRoaXMuYmFsbHNbaV07XHJcbiAgICAgICAgICAgIGJhbGwueSA9IGJhbGwueSArIDMwICogdGltZURpZmY7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHJlbW92ZUluZGljZXM6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJhbGxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhbGwgPSB0aGlzLmJhbGxzW2ldO1xyXG4gICAgICAgICAgICBiYWxsLmRyYXcoY3R4KTtcclxuICAgICAgICAgICAgaWYgKGJhbGwueSA+IGhlaWdodCArIDEwMCkge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlSW5kaWNlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZUluZGljZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByZW1vdmVJbmRpY2VzW2ldO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGxzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL2VuYy92aWV3XCI7XHJcbmltcG9ydCB7IENvbnRyb2xsZXIsIFNpZ25hbHMgfSBmcm9tIFwiLi9lbmMvY29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBFRXZlbnQgfSBmcm9tIFwiLi9lbmMvZUV2ZW50XCI7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xyXG5pbXBvcnQgdHJlZUltYWdlQXNzZXQgZnJvbSBcIi4vYXNzZXRzL3RyZWUucG5nXCI7XHJcbmltcG9ydCB7IFRyZWUgfSBmcm9tIFwiLi90cmVlXCI7XHJcbmltcG9ydCB7IEJhbGxTcGF3bmVyIH0gZnJvbSBcIi4vYmFsbFNwYXduZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lVmlldyBleHRlbmRzIFZpZXcge1xyXG4gICAgcHJpdmF0ZSBhbGxvd05ld0dhbWU6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgcmVxdWVzdE5ld0dhbWU6IEVFdmVudDtcclxuICAgIGN1cnJlbnRUaW1lOiBudW1iZXI7XHJcbiAgICBwbGF5VGltZTogbnVtYmVyO1xyXG4gICAgc3Bhd25lcjogQmFsbFNwYXduZXI7XHJcbiAgICBwbGF5ZXI6IFBsYXllcltdID0gW107XHJcbiAgICBnYW1lRmluaXNoZWQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjb250cm9sbGVyczogQ29udHJvbGxlcltdKSB7XHJcbiAgICAgICAgc3VwZXIoXCJHYW1lVmlld1wiKTtcclxuICAgICAgICB0aGlzLnJlcXVlc3ROZXdHYW1lID0gbmV3IEVFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFydCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUaW1lID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5VGltZSA9IDUgKiA2MDtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRpb24odGhpcy5pbnRyb2R1Y3Rpb24pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbih0aGlzLmFuaW1hdGlvbik7XHJcbiAgICAgICAgdmFyIHRyZWUgPSBuZXcgVHJlZSgpO1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZSh0cmVlKTtcclxuICAgICAgICB0aGlzLnNwYXduZXIgPSBuZXcgQmFsbFNwYXduZXIoMjAwMCAvIHRoaXMuY29udHJvbGxlcnMubGVuZ3RoKTtcclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUodGhpcy5zcGF3bmVyKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29udHJvbGxlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29udHJvbGxlciA9IHRoaXMuY29udHJvbGxlcnNbaV07XHJcbiAgICAgICAgICAgIHZhciBwbGF5ZXIgPSBuZXcgUGxheWVyKGNvbnRyb2xsZXIsIGkgLyB0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCwgdGhpcy5zcGF3bmVyLCB0cmVlKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXIucHVzaChwbGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZEFuaW1hdGFibGUocGxheWVyKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbGxlciwgc2lnbmFsOiBTaWduYWxzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lRmluaXNoZWQgJiYgdGhpcy5hbGxvd05ld0dhbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmFsID09IFNpZ25hbHMuYSB8fCBzaWduYWwgPT0gU2lnbmFscy5zdGFydCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3ROZXdHYW1lLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hZGRVcGRhdGUodGhpcy50aW1lclVwZGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW50cm9kdWN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICBjdHguZm9udCA9IFwiMjJweCBzYW5zLXNlcmlmXCI7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KCdHcmFiIHNvbWUgY2hyaXN0bWFzIGJhbGxzIHdpdGggeW91ciBoYW5kcycsIHdpZHRoICogMSAvIDQsIGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCgnYW5kIHB1dCB0aGVtIG9uIHRoZSB0cmVlLicsIHdpZHRoICogMSAvIDQsIGhlaWdodCAvIDIgKyAzMCk7XHJcbiAgICAgICAgY3R4LmZvbnQgPSBcIjI3cHggc2Fucy1zZXJpZlwiO1xyXG4gICAgICAgIHZhciBzZWNvbmRzTGVmdCA9IHRoaXMucGxheVRpbWUgLSB0aGlzLmN1cnJlbnRUaW1lO1xyXG4gICAgICAgIGlmIChzZWNvbmRzTGVmdCA8IDApIHtcclxuICAgICAgICAgICAgc2Vjb25kc0xlZnQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguZmlsbFRleHQoKE1hdGguZmxvb3Ioc2Vjb25kc0xlZnQgLyA2MCkgKyBcIjpcIiArIE1hdGgucm91bmQoc2Vjb25kc0xlZnQgJSA2MCkpLnRvU3RyaW5nKCksIHdpZHRoICogMSAvIDQsIGhlaWdodCAvIDIgKyA3MCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0aW1lclVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmdhbWVGaW5pc2hlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUaW1lICs9IHRpbWVEaWZmO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VGltZSA+PSB0aGlzLnBsYXlUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVGaW5pc2hlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsbG93TmV3R2FtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlQW5pbWF0YWJsZSh0aGlzLnNwYXduZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBbmltYXRpb24odGhpcy5pbnRyb2R1Y3Rpb24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRBbmltYXRpb24oKGN0eCwgd2lkdGgsIGhlaWdodCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFsbG93TmV3R2FtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjsgLy8gc3RhcnQgLyBsZWZ0IC8gY2VudGVyIC8gcmlnaHQgLyBlbmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCIgLy8gYm90dG9tIC8gYWxwaGFiZXRpYyAvIG1pZGRsZSAvIGhhbmdpbmcgLyB0b3BcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZm9udCA9IFwiMjJweCBzYW5zLXNlcmlmXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dChcIlByZXNzIGEgYnV0dG9uIHRvIHN0YXJ0IGEgbmV3IGdhbWUuXCIsIHdpZHRoICogMSAvIDQsIGhlaWdodCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMucGxheWVyLnNvcnQoKHMxLCBzMikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzMi5wb2ludHMgLSBzMS5wb2ludHM7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucGxheWVyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLmVuZChpICsgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFuaW1hdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCBoZWlnaHQsIHdpZHRoLCAtMzApO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJyb3duXCI7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIGhlaWdodCAtIDMwLCB3aWR0aCwgLTcwKTtcclxuICAgIH07XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRpb24gfSBmcm9tIFwiLi9lbmMvYW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IE1haW5NZW51VmlldyB9IGZyb20gXCIuL21haW5NZW51Vmlld1wiO1xyXG5pbXBvcnQgeyBHYW1lVmlldyB9IGZyb20gXCIuL2dhbWVWaWV3XCI7XHJcbmltcG9ydCBmYXZpY29uIGZyb20gXCIuL2Fzc2V0cy9mYXZpY29uLnBuZ1wiXHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuICAgIGFuaW1hdGlvbjogQW5pbWF0aW9uO1xyXG4gICAgbWVudTogTWFpbk1lbnVWaWV3O1xyXG4gICAgZ2FtZTogR2FtZVZpZXc7XHJcblxyXG4gICAgcHVibGljIHJ1bigpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IEFuaW1hdGlvbi5jcmVhdGVJbkJvZHkoKTtcclxuICAgICAgICB0aGlzLmNoYW5nZUZhdmljb24oZmF2aWNvbilcclxuICAgICAgICB0aGlzLm5ld0dhbWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VGYXZpY29uKHNyYzogc3RyaW5nKSB7XHJcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaW5rJyksXHJcbiAgICAgICAgICAgIG9sZExpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZHluYW1pYy1mYXZpY29uJyk7XHJcbiAgICAgICAgbGluay5pZCA9ICdkeW5hbWljLWZhdmljb24nO1xyXG4gICAgICAgIGxpbmsucmVsID0gJ3Nob3J0Y3V0IGljb24nO1xyXG4gICAgICAgIGxpbmsuaHJlZiA9IHNyYztcclxuICAgICAgICBpZiAob2xkTGluaykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKG9sZExpbmspO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5nYW1lID0gbmV3IEdhbWVWaWV3KHRoaXMubWVudS5jb250cm9sbGVycyk7XHJcbiAgICAgICAgdGhpcy5tZW51LmhpZGUoKTtcclxuICAgICAgICB0aGlzLm1lbnUucmVxdWVzdFN0YXJ0LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5zdGFydCk7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVmlldyh0aGlzLmdhbWUpO1xyXG4gICAgICAgIHRoaXMuZ2FtZS5yZXF1ZXN0TmV3R2FtZS5hZGRFdmVudExpc3RlbmVyKHRoaXMubmV3R2FtZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdGFydFwiKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmdhbWUuc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG5ld0dhbWUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbmV3IE1haW5NZW51VmlldygpO1xyXG4gICAgICAgIHRoaXMubWVudS5yZXF1ZXN0U3RhcnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnN0YXJ0KTtcclxuICAgICAgICBpZiAodGhpcy5nYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5yZXF1ZXN0TmV3R2FtZS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMubmV3R2FtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5oaWRlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRWaWV3KHRoaXMubWVudSk7XHJcbiAgICAgICAgdGhpcy5tZW51LnNob3coKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4sIGZhbHNlKTtcclxuXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgY29uc3QgYXBwID0gbmV3IEFwcCgpO1xyXG4gIGFwcC5ydW4oKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=