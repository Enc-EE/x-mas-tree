!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){t.exports=n.p+"285ae3239f1a614a5a05b4aa13ce31a5.png"},function(t,e,n){t.exports=n.p+"f6aa7f0421a5ce4cec7cc06690fd335e.png"},function(t,e,n){t.exports=n.p+"07215ce9469104c14aa43da4506cd199.png"},function(t,e,n){t.exports=n.p+"eff096f9e06e39117b751d9efd128b13.png"},function(t,e,n){t.exports=n.p+"70e6f529318d5043688ca77fba9d97fb.png"},function(t,e,n){t.exports=n.p+"f14fce4730208fa15a13846cdc754e69.png"},function(t,e,n){"use strict";n.r(e);var i,a,r=function(){function t(){var t=this;this.animations=[],this.updates=[],this.resize=function(){console.log("canvas resizing"),t.canvas.width=t.canvas.clientWidth,t.canvas.height=t.canvas.clientHeight},this.isRunning=!1,this.addAnimation=function(e){t.animations.push(e)},this.removeAnimation=function(e){t.animations.splice(t.animations.indexOf(e),1)},this.addUpdate=function(e){t.updates.push(e)},this.removeUpdate=function(e){t.updates.splice(t.updates.indexOf(e),1)},this.addAnimatable=function(e){t.updates.push(e.update),t.animations.push(e.draw)},this.removeAnimatable=function(e){t.updates.splice(t.updates.indexOf(e.update),1),t.animations.splice(t.animations.indexOf(e.draw),1)},this.addView=function(e){t.addAnimatable(e),e.width=t.width,e.height=t.height},this.removeView=function(e){t.removeAnimatable(e)},this.fps=32,this.fpsInterval=1e3/this.fps,this.animate=function(){t.isRunning&&requestAnimationFrame(t.animate);var e=Date.now(),n=e-t.lastFrameTime;if(n>t.fpsInterval){t.lastFrameTime=e;for(var i=n/1e3,a=0,r=t.updates;a<r.length;a++){(0,r[a])(i)}t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height);for(var o=0,s=t.animations;o<s.length;o++){(0,s[o])(t.ctx,t.canvas.width,t.canvas.height)}}}}return Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},enumerable:!0,configurable:!0}),t.createInBody=function(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var e=document.createElement("canvas");document.body.appendChild(e),e.style.width="100%",e.style.height="100%";var n=new t;return n.canvas=e,n.ctx=e.getContext("2d"),document.addEventListener("keyup",function(t){80==t.keyCode&&n.playPause()}),n.startAnimation(),n.resize(),window.addEventListener("resize",n.resize),n},t.prototype.startAnimation=function(){console.log("start animation"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animate()},t.prototype.stopAnimation=function(){console.log("stop animation"),this.isRunning=!1},t.prototype.playPause=function(){this.isRunning?this.stopAnimation():this.startAnimation()},t}(),o=function(){return function(t){var e=this;this.name=t,this.animations=[],this.updates=[],this.isVisible=!0,this.update=function(t){if(e.isVisible)for(var n=0,i=e.updates;n<i.length;n++)(0,i[n])(t)},this.draw=function(t,n,i){if(e.isVisible)for(var a=0,r=e.animations;a<r.length;a++)(0,r[a])(t,n,i)},this.show=function(){e.isVisible=!0},this.hide=function(){e.isVisible=!1},this.addAnimation=function(t){e.animations.push(t)},this.removeAnimation=function(t){e.animations.splice(e.animations.indexOf(t),1)},this.addUpdate=function(t){e.updates.push(t)},this.removeUpdate=function(t){e.updates.splice(e.updates.indexOf(t),1)},this.addAnimatable=function(t){e.updates.push(t.update),e.animations.push(t.draw)},this.removeAnimatable=function(t){console.log(t),console.log(e.animations.length),e.updates.splice(e.updates.indexOf(t.update),1),e.animations.splice(e.animations.indexOf(t.draw),1),console.log(e.animations.length)}}}();!function(t){t.start="start",t.left="left",t.up="up",t.right="right",t.down="down",t.a="a"}(i||(i={})),function(t){t.keyboard="keyboard",t.gamepad="gamepad"}(a||(a={}));var s=function(){return function(){var t=this;this.listeners=[],this.addEventListener=function(e){if(!e||t.listeners.indexOf(e)>=0)throw"listener already added";t.listeners.push(e)},this.dispatchEvent=function(){for(var e=0;e<t.listeners.length;e++)(0,t.listeners[e])()},this.removeEventListener=function(e){if(!e||t.listeners.indexOf(e)<0)throw"listener not found";t.listeners.splice(t.listeners.indexOf(e),1)}}}(),l=function(){return function(){var t=this;this.listeners=[],this.addEventListener=function(e){if(!e||t.listeners.indexOf(e)>=0)throw"listener already added";t.listeners.push(e)},this.dispatchEvent=function(e){for(var n=0;n<t.listeners.length;n++)(0,t.listeners[n])(e)},this.removeEventListener=function(e){if(!e||t.listeners.indexOf(e)<0)throw"listener not found";t.listeners.splice(t.listeners.indexOf(e),1)}}}(),d=function(){return function(){var t=this;this.listeners=[],this.addEventListener=function(e){if(!e||t.listeners.indexOf(e)>=0)throw"listener already added";t.listeners.push(e)},this.dispatchEvent=function(e,n){for(var i=0;i<t.listeners.length;i++)(0,t.listeners[i])(e,n)},this.removeEventListener=function(e){if(!e||t.listeners.indexOf(e)<0)throw"listener not found";t.listeners.splice(t.listeners.indexOf(e),1)}}}(),c=function(){return function(t,e,n,r,o,s){var l=this;this.name=t,this.type=a.keyboard,this.signal=new d,this.xAxes=0,this.yAxes=0,this.start=!1,document.addEventListener("keydown",function(t){t.keyCode==n&&(l.xAxes=-1,l.signal.dispatchEvent(l,i.left)),t.keyCode==e&&(l.yAxes=-1,l.signal.dispatchEvent(l,i.up)),t.keyCode==o&&(l.xAxes=1,l.signal.dispatchEvent(l,i.right)),t.keyCode==r&&(l.yAxes=1,l.signal.dispatchEvent(l,i.down)),13==t.keyCode&&(l.start=!0,l.signal.dispatchEvent(l,i.start)),t.keyCode==s&&(l.a=!0,l.signal.dispatchEvent(l,i.a))}),document.addEventListener("keyup",function(t){t.keyCode==n&&(l.xAxes=-1)&&(l.xAxes=0),t.keyCode==e&&(l.yAxes=-1)&&(l.yAxes=0),t.keyCode==o&&(l.xAxes=1)&&(l.xAxes=0),t.keyCode==r&&(l.yAxes=1)&&(l.yAxes=0),13==t.keyCode&&(l.start=!1),t.keyCode==s&&(l.a=!1)})}}(),h=function(){function t(){var t=this;this.gamepads=[],this.scangamepads=function(){for(var e=navigator.getGamepads?navigator.getGamepads():[],n=0;n<e.length;n++)e[n]&&!(e[n].index in t.gamepads)&&e[n].buttons.length>=16&&(t.gamepads[e[n].index]=e[n],t.scannedGamepad.dispatchEvent(e[n]))},this.scannedGamepad=new l,this.reset()}return t.prototype.start=function(){this.gamepadScanner=setInterval(this.scangamepads,500)},t.prototype.stop=function(){clearInterval(this.gamepadScanner)},t.prototype.reset=function(){this.gamepads=[]},t}(),u=function(){function t(t,e){var n=this;this.name=t,this.index=e,this.timeout=.5,this.signalingTimers={},this.signalListener=function(){requestAnimationFrame(n.signalListener);var t=Date.now();n.checkSignal(n.start,i.start,t),n.checkSignal(n.a,i.a,t),n.checkSignal(n.up,i.up,t),n.checkSignal(n.right,i.right,t),n.checkSignal(n.left,i.left,t),n.checkSignal(n.down,i.down,t),n.checkSignal(n.yAxes<-.5,i.up,t),n.checkSignal(n.yAxes>.5,i.down,t),n.checkSignal(n.xAxes<-.5,i.left,t),n.checkSignal(n.xAxes>.5,i.right,t)},this.checkSignal=function(t,e,i){t?n.signalingTimers[e]?(i-n.signalingTimers[e])/1e3>=n.timeout&&n.signal.dispatchEvent(n,e):(n.signalingTimers[e]=Date.now(),n.signal.dispatchEvent(n,e)):n.signalingTimers[e]=void 0},this.signal=new d,this.type=a.gamepad}return Object.defineProperty(t.prototype,"xAxes",{get:function(){return navigator.getGamepads()[this.index].axes[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yAxes",{get:function(){return navigator.getGamepads()[this.index].axes[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"start",{get:function(){return navigator.getGamepads()[this.index].buttons[9].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"a",{get:function(){return navigator.getGamepads()[this.index].buttons[0].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"up",{get:function(){return navigator.getGamepads()[this.index].buttons[12].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return navigator.getGamepads()[this.index].buttons[15].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"down",{get:function(){return navigator.getGamepads()[this.index].buttons[13].pressed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return navigator.getGamepads()[this.index].buttons[14].pressed},enumerable:!0,configurable:!0}),t.prototype.enableSignals=function(){this.signalListener()},t}(),f=n(0),g=n.n(f),p=n(1),m=n.n(p),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),v=function(t){function e(){var e=t.call(this,"MenuView")||this;e.options=[],e.controllers=[],e.drawOptions=function(t,n,i){if(!(e.controllers.length<=0))for(var a=i/2-32*e.options.length/2,r=0;r<e.options.length;r++){var o=e.options[r];t.fillStyle="black",t.textAlign="center",t.textBaseline="middle",t.font="22px sans-serif";var s=a+5+32*r;t.fillText(o,n/2,s),r===e.selectedOption&&t.strokeRect(n/2-t.measureText(o).width/2-5,s-11-5,t.measureText(o).width+10,32)}},e.drawControllers=function(t,n,i){for(var r=n/2-(15+75*e.controllers.length)/2,o=0;o<e.controllers.length;o++){t.fillStyle="hsl("+o/e.controllers.length*360+",100%, 40%)";var s=r+15+75*o;switch(e.controllers[o].type){case a.gamepad:t.font="60px FontAwesome",t.fillText("",s,i/4);break;case a.keyboard:t.font="60px FontAwesome",t.fillText("",s,i/4)}}},e.addController=function(t){t.type==a.gamepad&&t.enableSignals(),t.signal.addEventListener(e.controllerSignal)},e.controllerSignal=function(t,n){if(n==i.start)e.controllers.indexOf(t)>=0?e.controllers.splice(e.controllers.indexOf(t),1):e.controllers.push(t);else if(e.controllers.length>0&&e.controllers[0]==t)switch(n){case i.down:e.selectedOption++,e.selectedOption>=e.options.length&&(e.selectedOption=0);break;case i.up:e.selectedOption--,e.selectedOption<0&&(e.selectedOption=e.options.length-1);break;case i.a:switch(e.selectedOption){case 0:e.gamepadScanner.stop(),e.requestStart.dispatchEvent();break;case 1:e.showControls=!e.showControls}}},e.requestStart=new s,e.options=["Start Game","Show / Hide Controls"],e.selectedOption=0,e.showControls=!0,e.controls_gamepad_image=new Image,e.controls_gamepad_image.src=g.a,e.controls_keyboard_image=new Image,e.controls_keyboard_image.src=m.a,e.addAnimation(function(t,n,i){if(e.showControls){var a=n/3,r=a/e.controls_gamepad_image.naturalWidth*e.controls_gamepad_image.naturalHeight;t.drawImage(e.controls_gamepad_image,a-a/2,3*i/4-r/2,a,r),r=a/e.controls_keyboard_image.naturalWidth*e.controls_keyboard_image.naturalHeight,t.drawImage(e.controls_keyboard_image,2*a-a/2,3*i/4-r/2,a,r)}}),e.addAnimation(e.drawOptions),e.addAnimation(e.drawControllers),e.gamepadScanner=new h,e.gamepadScanner.scannedGamepad.addEventListener(function(t){e.addController(new u(t.index.toString(),t.index))}),e.gamepadScanner.start();var n=new c("arrows",38,37,40,39,32);return e.addController(n),e}return y(e,t),e}(o),b=n(2),w=n.n(b),x=function(){function t(){}return t.colorImage=function(t,e){t.onload=function(){var n=document.createElement("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight;var i=n.getContext("2d");i.drawImage(t,0,0);for(var a=i.getImageData(0,0,n.width,n.height),r=0;r<a.data.length;r+=4){var o=a.data[r],s=a.data[r+1],l=a.data[r+2];if(a.data[r+3]>.5&&o-s>50&&o-l>50){e=e;var d,c,h,u=.5,f=u*(1-Math.abs(e/60%2-1));e<60?(d=u,c=f,h=0):e<120?(d=f,c=u,h=0):e<180?(d=0,c=u,h=f):e<240?(d=0,c=f,h=u):e<300?(d=f,c=0,h=u):(d=u,c=0,h=f),d=255*(d+0),c=255*(c+0),h=255*(h+0),a.data[r]=d,a.data[r+1]=c,a.data[r+2]=h}}i.putImageData(a,0,0),t.src=n.toDataURL(),t.onload=function(){}}},t.colorImageAny=function(t,e){var n=document.createElement("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight;var i=n.getContext("2d");i.drawImage(t,0,0);for(var a=i.getImageData(0,0,n.width,n.height),r=0;r<a.data.length;r+=4){a.data[r],a.data[r+1],a.data[r+2];if(a.data[r+3]>.5){e=e;var o,s,l,d=.5,c=d*(1-Math.abs(e/60%2-1));e<60?(o=d,s=c,l=0):e<120?(o=c,s=d,l=0):e<180?(o=0,s=d,l=c):e<240?(o=0,s=c,l=d):e<300?(o=c,s=0,l=d):(o=d,s=0,l=c),o=255*(o+0),s=255*(s+0),l=255*(l+0),a.data[r]=o,a.data[r+1]=s,a.data[r+2]=l}}i.putImageData(a,0,0),t.src=n.toDataURL()},t.getImageData=function(t,e){t.onload=function(){var n=document.createElement("canvas");n.width=t.naturalWidth,n.height=t.naturalHeight;var i=n.getContext("2d");i.drawImage(t,0,0),e(i.getImageData(0,0,n.width,n.height))}},t}(),O=function(){function t(t,e,n,i){this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.collidesWith=function(t){var e=!1,n=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(n=!0):t.y<=this.y&&t.y+t.width>this.y&&(n=!0)),e&&n},t}(),I=function(){return function(t,e,n,a){var r=this;this.controller=t,this.playerNumber=e,this.ballSpawner=n,this.tree=a,this.points=0,this.controllerSignal=function(t,e){if(!r.position)switch(e){case i.up:r.isJumping||(r.isJumping=!0,console.log((new Date).toISOString()+": "+r.y),r.vy=-2e3/969*window.innerHeight,r.baseY=r.y);break;case i.a:if(null==r.ballLeft){var n=r.ballSpawner.getBall(r.getLeftHandHitRect());n&&(n.color(r.playerNumber),r.ballLeft=n)}else(o=r.tree.addBall(r.ballLeft))>0&&(r.points+=o,r.ballLeft=null);if(null==r.ballRight){var a=r.ballSpawner.getBall(r.getRightHandHitRect());a&&(a.color(r.playerNumber),r.ballRight=a)}else{var o;(o=r.tree.addBall(r.ballRight))>0&&(r.points+=o,r.ballRight=null)}}},this.leftHandOffset=5,this.rightHandOffset=120,this.topHandOffset=140,this.handSize=25,this.getLeftHandHitRect=function(){return new O(r.x+r.leftHandOffset,r.y+r.topHandOffset,r.handSize,r.handSize)},this.getRightHandHitRect=function(){return new O(r.x+r.rightHandOffset,r.y+r.topHandOffset,r.handSize,r.handSize)},this.update=function(t){r.position||(r.x=r.x+r.controller.xAxes*t*500*2,r.controller.xAxes<0?r.moveLeft=!0:r.controller.xAxes>0&&(r.moveLeft=!1)),r.y=r.y+r.vy*t,r.isJumping&&(r.vy<=0&&r.vy+r.g*t>=0&&console.log((new Date).toISOString()+": "+r.y),r.vy=r.vy+r.g*t,r.y>r.baseY&&(r.vy=0,r.y=r.baseY,console.log((new Date).toISOString()+": "+r.y),r.isJumping=!1)),r.ballLeft&&(r.ballLeft.x=r.x+r.leftHandOffset+r.handSize/2,r.ballLeft.y=r.y+r.topHandOffset-r.handSize),r.ballRight&&(r.ballRight.x=r.x+r.rightHandOffset+r.handSize/2,r.ballRight.y=r.y+r.topHandOffset-r.handSize)},this.draw=function(t,e,n){0==r.y&&r.playerImage.naturalHeight&&(r.y=n-40-r.playerImage.naturalHeight),r.moveLeft?t.drawImage(r.playerImage,r.x,r.y):(t.save(),t.scale(-1,1),t.drawImage(r.playerImage,-r.x-r.playerImage.naturalWidth,r.y),t.restore()),r.ballLeft&&r.ballLeft.draw(t,e,n),r.ballRight&&r.ballRight.draw(t,e,n),t.textBaseline="top",t.textAlign="left",t.fillStyle=r.color,t.font="60px sans-serif",t.fillText(r.points.toString(),0,n*r.playerNumber),r.position&&(t.font=80-7*r.position+"px sans-serif",t.fillText(r.position+".",150,n*r.playerNumber))},this.end=function(t){r.position=t},this.playerImage=new Image,this.playerImage.src=w.a,x.colorImage(this.playerImage,360*this.playerNumber),this.x=0,this.y=0,this.vy=0,this.g=3e3/969*window.innerHeight,this.isJumping=!1,this.ballLeft=null,this.ballRight=null,t.signal.addEventListener(this.controllerSignal),this.color="hsl("+360*e+",100%, 30%)"}}(),S=n(3),A=n.n(S),k=function(){function t(){var t=this;this.balls=[],this.pointsLines=[0,.3,.5,.7,.8,.9],this.update=function(t){},this.addBall=function(e){if(e.getHitRect().collidesWith(new O(t.x,t.y,t.width,t.height))){var n=Math.round((e.x-t.x)/t.width*t.treeImageData.width),i=Math.round((e.y-t.y)/t.height*t.treeImageData.height);if(t.isPointOnTree(i,n)){t.balls.push(e);for(var a=1-(e.y-t.y)/t.height,r=0;r<t.pointsLines.length-1;r++){t.pointsLines[r];if(a<t.pointsLines[r+1])return r+1}return t.pointsLines.length}}return 0},this.draw=function(e,n,i){if(t.recalculate){var a=3*i/4,r=a/t.treeImage.naturalWidth*t.treeImage.naturalHeight;t.x=n-r,t.y=i-a-20,t.width=r,t.height=a,x.getImageData(t.treeImage,function(e){return t.treeImageData=e})}for(var o=0;o<t.pointsLines.length;o++){var s=1-t.pointsLines[o];e.beginPath(),e.moveTo(t.x+t.width/2,t.y+t.height*s),e.lineTo(t.x+t.width,t.y+t.height*s),e.strokeStyle="black",e.stroke(),e.fillStyle="black",e.textBaseline="bottom",e.textAlign="right",e.font="60px sans-serif",e.fillText((o+1).toString(),t.x+t.width,t.y+t.height*s)}e.drawImage(t.treeImage,t.x,t.y,t.width,t.height),t.balls.forEach(function(t){t.draw(e)})},this.treeImage=new Image,this.treeImage.src=A.a,this.recalculate=!0,this.x=0,this.y=0}return t.prototype.isPointOnTree=function(t,e){if(this.treeImageData)for(var n=t-5;n<t+5;n++)for(var i=e-5;i<e+5;i++){if(this.treeImageData.data[4*i+4*n*this.treeImageData.width+3]>.5)return!0}return!1},t}(),L=n(4),_=n.n(L),E=function(){return function(){var t=this;this.getHitRect=function(){return new O(t.x-t.ballImage.naturalWidth/2,t.y,t.ballImage.naturalWidth,t.ballImage.naturalHeight)},this.color=function(e){console.log("color"),x.colorImageAny(t.ballImage,360*e)},this.update=function(t){},this.draw=function(e,n,i){e.drawImage(t.ballImage,t.x-t.ballImage.naturalWidth/2,t.y)},this.ballImage=new Image,this.ballImage.src=_.a,x.colorImage(this.ballImage,360*Math.random()),this.x=0,this.y=0}}(),T=function(){return function(t,e){var n=this;this.intervalMs=t,this.func=e,this.update=function(t){n.lastFrameTime||(n.lastFrameTime=Date.now());var e=Date.now();e-n.lastFrameTime>n.intervalMs&&(n.lastFrameTime=e,n.func())}}}(),H=function(){return function(t){var e=this;this.rate=20,this.balls=[],this.getBall=function(t){for(var n=-1,i=0;i<e.balls.length;i++)e.balls[i].getHitRect().collidesWith(t)&&(n=i);if(n>=0){var a=e.balls[n];return e.balls.splice(n,1),a}},this.spawnBall=function(){var t=new E;t.x=600*Math.random()+100,t.y=-100,e.balls.push(t)},this.update=function(t){e.ticker.update(t);for(var n=0;n<e.balls.length;n++){var i=e.balls[n];i.y=i.y+30*t}},this.draw=function(t,n,i){for(var a=[],r=0;r<e.balls.length;r++){var o=e.balls[r];o.draw(t),o.y>i+100&&a.push(r)}for(r=0;r<a.length;r++){var s=a[r];e.balls.splice(s,1)}},this.ticker=new T(t,this.spawnBall)}}(),C=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),R=function(t){function e(e){var n=t.call(this,"GameView")||this;return n.controllers=e,n.player=[],n.start=function(){n.currentTime=0,n.playTime=300,n.addAnimation(n.introduction),n.addAnimation(n.animation);var t=new k;n.addAnimatable(t),n.spawner=new H(2e3/n.controllers.length),n.addAnimatable(n.spawner);for(var e=0;e<n.controllers.length;e++){var a=n.controllers[e],r=new I(a,e/n.controllers.length,n.spawner,t);n.player.push(r),n.addAnimatable(r),a.signal.addEventListener(function(t,e){n.gameFinished&&n.allowNewGame&&(e!=i.a&&e!=i.start||n.requestNewGame.dispatchEvent())})}n.addUpdate(n.timerUpdate)},n.introduction=function(t,e,i){t.fillStyle="black",t.font="22px sans-serif",t.textAlign="center",t.fillText("Grab some christmas balls with your hands",1*e/4,i/2),t.fillText("and put them on the tree.",1*e/4,i/2+30),t.font="27px sans-serif";var a=n.playTime-n.currentTime;a<0&&(a=0),t.fillText((Math.floor(a/60)+":"+Math.round(a%60)).toString(),1*e/4,i/2+70)},n.timerUpdate=function(t){if(!n.gameFinished&&(n.currentTime+=t,n.currentTime>=n.playTime)){n.gameFinished=!0,setTimeout(function(){n.allowNewGame=!0},3e3),n.removeAnimatable(n.spawner),n.removeAnimation(n.introduction),n.addAnimation(function(t,e,i){n.allowNewGame&&(t.textAlign="center",t.textBaseline="top",t.fillStyle="black",t.font="22px sans-serif",t.fillText("Press a button to start a new game.",1*e/4,i/2))}),n.player=n.player.sort(function(t,e){return e.points-t.points});for(var e=0;e<n.player.length;e++){n.player[e].end(e+1)}}},n.animation=function(t,e,n){t.fillStyle="black",t.fillRect(0,n,e,-30),t.fillStyle="brown",t.fillRect(0,n-30,e,-70)},n.requestNewGame=new s,n}return C(e,t),e}(o),G=n(5),D=n.n(G),P=function(){function t(){var t=this;this.start=function(){t.game=new R(t.menu.controllers),t.menu.hide(),t.menu.requestStart.removeEventListener(t.start),t.menu=null,t.animation.addView(t.game),t.game.requestNewGame.addEventListener(t.newGame),console.log("start"),t.game.start()},this.newGame=function(){t.menu=new v,t.menu.requestStart.addEventListener(t.start),t.game&&(t.game.requestNewGame.removeEventListener(t.newGame),t.game.hide(),t.game=null),t.animation.addView(t.menu),t.menu.show()}}return t.prototype.run=function(){this.animation=r.createInBody(),this.changeFavicon(D.a),this.newGame()},t.prototype.changeFavicon=function(t){var e=document.createElement("link"),n=document.getElementById("dynamic-favicon");e.id="dynamic-favicon",e.rel="shortcut icon",e.href=t,n&&document.head.removeChild(n),document.head.appendChild(e)},t}();document.addEventListener("DOMContentLoaded",function(){(new P).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9jb250cm9sc19nYW1lcGFkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2NvbnRyb2xzX2tleWJvYXJkLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3BsYXllci5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy90cmVlLnBuZyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2JhbGwucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvZmF2aWNvbi5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9hbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9jb250cm9sbGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvdmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2VFdmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2tleWJvYXJkQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9nYW1lcGFkU2Nhbm5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5jL2dhbWVwYWRDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbWFpbk1lbnVWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvaGVscGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9lbmMvcmVjdGFuZ2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9wbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3RyZWUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VuYy9hbmltYXRpb25UaWNrZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2JhbGxTcGF3bmVyLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlNpZ25hbHMiLCJDb250cm9sbGVyVHlwZSIsIkFuaW1hdGlvbiIsIl90aGlzIiwidGhpcyIsImFuaW1hdGlvbnMiLCJ1cGRhdGVzIiwicmVzaXplIiwiY29uc29sZSIsImxvZyIsImNhbnZhcyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJpc1J1bm5pbmciLCJhZGRBbmltYXRpb24iLCJmdW5jIiwicHVzaCIsInJlbW92ZUFuaW1hdGlvbiIsInNwbGljZSIsImluZGV4T2YiLCJhZGRVcGRhdGUiLCJyZW1vdmVVcGRhdGUiLCJhZGRBbmltYXRhYmxlIiwiYW5pbWF0YWJsZSIsInVwZGF0ZSIsImRyYXciLCJyZW1vdmVBbmltYXRhYmxlIiwiYWRkVmlldyIsInZpZXciLCJyZW1vdmVWaWV3IiwiZnBzIiwiZnBzSW50ZXJ2YWwiLCJhbmltYXRlIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibm93IiwiRGF0ZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidGltZURpZmYiLCJfaSIsIl9hIiwibGVuZ3RoIiwiY3R4IiwiY2xlYXJSZWN0IiwiX2IiLCJfYyIsImNyZWF0ZUluQm9keSIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiYW5pbWF0aW9uIiwiZ2V0Q29udGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImtleUNvZGUiLCJwbGF5UGF1c2UiLCJzdGFydEFuaW1hdGlvbiIsIndpbmRvdyIsInN0b3BBbmltYXRpb24iLCJWaWV3IiwiaXNWaXNpYmxlIiwic2hvdyIsImhpZGUiLCJFRXZlbnQiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJldmVudF8xIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIkVFdmVudFQiLCJhcmciLCJldmVudF8yIiwiRUV2ZW50VFQiLCJhcmcxIiwiYXJnMiIsImV2ZW50XzMiLCJrZXlib2FyZENvbnRyb2xzX0tleWJvYXJkQ29udHJvbHMiLCJ1cEtleSIsImxlZnRLZXkiLCJkb3duS2V5IiwicmlnaHRLZXkiLCJhIiwidHlwZSIsImtleWJvYXJkIiwic2lnbmFsIiwieEF4ZXMiLCJ5QXhlcyIsInN0YXJ0IiwibGVmdCIsInVwIiwicmlnaHQiLCJkb3duIiwiZ2FtZXBhZFNjYW5uZXJfR2FtZXBhZFNjYW5uZXIiLCJHYW1lcGFkU2Nhbm5lciIsImdhbWVwYWRzIiwic2NhbmdhbWVwYWRzIiwibmF2aWdhdG9yIiwiZ2V0R2FtZXBhZHMiLCJpbmRleCIsImJ1dHRvbnMiLCJzY2FubmVkR2FtZXBhZCIsInJlc2V0IiwiZ2FtZXBhZFNjYW5uZXIiLCJzZXRJbnRlcnZhbCIsInN0b3AiLCJjbGVhckludGVydmFsIiwiZ2FtZXBhZENvbnRyb2xzX0dhbWVwYWRDb250cm9scyIsIkdhbWVwYWRDb250cm9scyIsInRpbWVvdXQiLCJzaWduYWxpbmdUaW1lcnMiLCJzaWduYWxMaXN0ZW5lciIsImNoZWNrU2lnbmFsIiwiaXNQcmVzc2VkIiwidW5kZWZpbmVkIiwiZ2FtZXBhZCIsImF4ZXMiLCJwcmVzc2VkIiwiZW5hYmxlU2lnbmFscyIsIm1haW5NZW51Vmlld19NYWluTWVudVZpZXciLCJfc3VwZXIiLCJNYWluTWVudVZpZXciLCJvcHRpb25zIiwiY29udHJvbGxlcnMiLCJkcmF3T3B0aW9ucyIsInN0YXJ0SGVpZ2h0Iiwib3B0aW9uIiwiZmlsbFN0eWxlIiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiZm9udCIsIm9wdGlvbkhlaWdodCIsImZpbGxUZXh0Iiwic2VsZWN0ZWRPcHRpb24iLCJzdHJva2VSZWN0IiwibWVhc3VyZVRleHQiLCJmb250U2l6ZSIsImRyYXdDb250cm9sbGVycyIsInN0YXJ0WCIsIngiLCJhZGRDb250cm9sbGVyIiwiY29udHJvbGxlciIsImNvbnRyb2xsZXJTaWduYWwiLCJzZW5kZXIiLCJyZXF1ZXN0U3RhcnQiLCJzaG93Q29udHJvbHMiLCJjb250cm9sc19nYW1lcGFkX2ltYWdlIiwiSW1hZ2UiLCJzcmMiLCJjb250cm9sc19nYW1lcGFkX2RlZmF1bHQiLCJjb250cm9sc19rZXlib2FyZF9pbWFnZSIsImNvbnRyb2xzX2tleWJvYXJkX2RlZmF1bHQiLCJuZXdXaWR0aCIsIm5ld0hlaWdodCIsIm5hdHVyYWxXaWR0aCIsIm5hdHVyYWxIZWlnaHQiLCJkcmF3SW1hZ2UiLCJ0b1N0cmluZyIsIl9fZXh0ZW5kcyIsIkhlbHBlciIsImNvbG9ySW1hZ2UiLCJpbWFnZSIsImgiLCJvbmxvYWQiLCJ0ZW1wQ2FudmFzIiwidGVtcEN0eCIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJnIiwiYiIsInJ4IiwiZ3giLCJieCIsImUiLCJNYXRoIiwiYWJzIiwicHV0SW1hZ2VEYXRhIiwidG9EYXRhVVJMIiwiY29sb3JJbWFnZUFueSIsImNhbGxiYWNrIiwiUmVjdGFuZ2xlIiwieSIsImNvbGxpZGVzV2l0aCIsInJlY3RhbmdsZSIsImhpdHgiLCJoaXR5IiwicGxheWVyX1BsYXllciIsInBsYXllck51bWJlciIsImJhbGxTcGF3bmVyIiwidHJlZSIsInBvaW50cyIsInBvc2l0aW9uIiwiaXNKdW1waW5nIiwidG9JU09TdHJpbmciLCJ2eSIsImlubmVySGVpZ2h0IiwiYmFzZVkiLCJiYWxsTGVmdCIsImxlZnRCYWxsIiwiZ2V0QmFsbCIsImdldExlZnRIYW5kSGl0UmVjdCIsImNvbG9yIiwiYWRkQmFsbCIsImJhbGxSaWdodCIsInJpZ2h0QmFsbCIsImdldFJpZ2h0SGFuZEhpdFJlY3QiLCJsZWZ0SGFuZE9mZnNldCIsInJpZ2h0SGFuZE9mZnNldCIsInRvcEhhbmRPZmZzZXQiLCJoYW5kU2l6ZSIsIm1vdmVMZWZ0IiwicGxheWVySW1hZ2UiLCJzYXZlIiwic2NhbGUiLCJyZXN0b3JlIiwiZW5kIiwicGxheWVyX2RlZmF1bHQiLCJ0cmVlX1RyZWUiLCJUcmVlIiwiYmFsbHMiLCJwb2ludHNMaW5lcyIsImJhbGwiLCJnZXRIaXRSZWN0Iiwicm91bmQiLCJ0cmVlSW1hZ2VEYXRhIiwiaXNQb2ludE9uVHJlZSIsInBvaW50c1kiLCJyZWNhbGN1bGF0ZSIsInRyZWVJbWFnZSIsInBvaW50TGluZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwiZm9yRWFjaCIsInRyZWVfZGVmYXVsdCIsInlzIiwieHMiLCJiYWxsX0JhbGwiLCJiYWxsSW1hZ2UiLCJiYWxsX2RlZmF1bHQiLCJyYW5kb20iLCJBbmltYXRpb25UaWNrZXIiLCJpbnRlcnZhbE1zIiwiYmFsbFNwYXduZXJfQmFsbFNwYXduZXIiLCJyYXRlIiwiYmFsbEluZGV4Iiwic3Bhd25CYWxsIiwidGlja2VyIiwicmVtb3ZlSW5kaWNlcyIsImdhbWVWaWV3X0dhbWVWaWV3IiwiR2FtZVZpZXciLCJwbGF5ZXIiLCJjdXJyZW50VGltZSIsInBsYXlUaW1lIiwiaW50cm9kdWN0aW9uIiwic3Bhd25lciIsImdhbWVGaW5pc2hlZCIsImFsbG93TmV3R2FtZSIsInJlcXVlc3ROZXdHYW1lIiwidGltZXJVcGRhdGUiLCJzZWNvbmRzTGVmdCIsImZsb29yIiwic2V0VGltZW91dCIsInNvcnQiLCJzMSIsInMyIiwiZmlsbFJlY3QiLCJnYW1lVmlld19leHRlbmRzIiwiYXBwX0FwcCIsIkFwcCIsImdhbWUiLCJtZW51IiwibmV3R2FtZSIsInJ1biIsImNoYW5nZUZhdmljb24iLCJmYXZpY29uX2RlZmF1bHQiLCJsaW5rIiwib2xkTGluayIsImdldEVsZW1lbnRCeUlkIiwiaWQiLCJyZWwiLCJocmVmIiwiaGVhZCIsInJlbW92ZUNoaWxkIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLGFBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4s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QUNBN08sU0FBU2tQLEtBQUtDLFlBQVlOLEdBRTlCN08sU0FBU2tQLEtBQUszTyxZQUFZcU8sSUE0QmxDUCxFQWhEQSxHQ0hBck8sU0FBU1UsaUJBQWlCLG1CQUUxQixZQUNjLElBQUkwTixHQUNaSyxRQUo4QyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDYpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMjg1YWUzMjM5ZjFhNjE0YTVhMDViNGFhMTNjZTMxYTUucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjZhYTdmMDQyMWE1Y2U0Y2VjN2NjMDY2OTBmZDMzNWUucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMDcyMTVjZTk0NjkxMDRjMTRhYTQzZGE0NTA2Y2QxOTkucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZWZmMDk2ZjllMDZlMzkxMTdiNzUxZDllZmQxMjhiMTMucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNzBlNmY1MjkzMThkNTA0MzY4OGNhNzdmYmE5ZDk3ZmIucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjE0ZmNlNDczMDIwOGZhMTVhMTM4NDZjZGM3NTRlNjkucG5nXCI7IiwiaW1wb3J0IHsgVmlldyB9IGZyb20gXCIuL3ZpZXdcIjtcclxuXHJcbmV4cG9ydCB0eXBlIEFuaW1hdGlvbkZ1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5leHBvcnQgdHlwZSBVcGRhdGVGdW5jdGlvbiA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBbmltYXRhYmxlIHtcclxuICAgIHVwZGF0ZTogVXBkYXRlRnVuY3Rpb247XHJcbiAgICBkcmF3OiBBbmltYXRpb25GdW5jdGlvbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgcHJpdmF0ZSBhbmltYXRpb25zOiBBbmltYXRpb25GdW5jdGlvbltdID0gW107XHJcbiAgICBwcml2YXRlIHVwZGF0ZXM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlSW5Cb2R5KCk6IEFuaW1hdGlvbiB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuXHJcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IG5ldyBBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24uY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGFuaW1hdGlvbi5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gODApIHsgLy8gcFxyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLnBsYXlQYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGFuaW1hdGlvbi5zdGFydEFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5yZXNpemUoKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBhbmltYXRpb24ucmVzaXplKTtcclxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjYW52YXMgcmVzaXppbmdcIik7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFydEFuaW1hdGlvbigpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0IGFuaW1hdGlvblwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBzdG9wQW5pbWF0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwic3RvcCBhbmltYXRpb25cIik7XHJcblxyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcGxheVBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID8gdGhpcy5zdG9wQW5pbWF0aW9uKCkgOiB0aGlzLnN0YXJ0QW5pbWF0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuaW1hdGlvbiA9IChmdW5jOiBBbmltYXRpb25GdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVXBkYXRlID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRhYmxlID0gKGFuaW1hdGFibGU6IEFuaW1hdGFibGUpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMucHVzaChhbmltYXRhYmxlLnVwZGF0ZSk7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbWF0YWJsZS5kcmF3KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnNwbGljZSh0aGlzLnVwZGF0ZXMuaW5kZXhPZihhbmltYXRhYmxlLnVwZGF0ZSksIDEpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UodGhpcy5hbmltYXRpb25zLmluZGV4T2YoYW5pbWF0YWJsZS5kcmF3KSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFZpZXcgPSAodmlldzogVmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZSh2aWV3KTtcclxuICAgICAgICB2aWV3LndpZHRoID0gdGhpcy53aWR0aDtcclxuICAgICAgICB2aWV3LmhlaWdodCA9IHRoaXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVWaWV3ID0gKHZpZXc6IFZpZXcpID0+IHtcclxuICAgICAgICB0aGlzLnJlbW92ZUFuaW1hdGFibGUodmlldyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsYXN0RnJhbWVUaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwcyA9IDMyO1xyXG4gICAgcHJpdmF0ZSBmcHNJbnRlcnZhbCA9IDEwMDAgLyB0aGlzLmZwcztcclxuXHJcbiAgICBwcml2YXRlIGFuaW1hdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XHJcblxyXG4gICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IGVsYXBzZWQgLyAxMDAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGUgb2YgdGhpcy51cGRhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUodGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGFuaW1hdGUgb2YgdGhpcy5hbmltYXRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRlKHRoaXMuY3R4LCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEVFdmVudFRUIH0gZnJvbSBcIi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgZW51bSBTaWduYWxzIHtcclxuICAgIHN0YXJ0ID0gXCJzdGFydFwiLFxyXG4gICAgbGVmdCA9IFwibGVmdFwiLFxyXG4gICAgdXAgPSBcInVwXCIsXHJcbiAgICByaWdodCA9IFwicmlnaHRcIixcclxuICAgIGRvd24gPSBcImRvd25cIixcclxuICAgIGEgPSBcImFcIlxyXG59XHJcblxyXG5leHBvcnQgZW51bSBDb250cm9sbGVyVHlwZSB7XHJcbiAgICBrZXlib2FyZCA9IFwia2V5Ym9hcmRcIixcclxuICAgIGdhbWVwYWQgPSBcImdhbWVwYWRcIlxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbnRyb2xsZXIge1xyXG4gICAgeEF4ZXM6IG51bWJlcjtcclxuICAgIHlBeGVzOiBudW1iZXI7XHJcbiAgICBuYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgc3RhcnQ6IGJvb2xlYW47XHJcbiAgICBhOiBib29sZWFuO1xyXG5cclxuICAgIHNpZ25hbDogRUV2ZW50VFQ8Q29udHJvbGxlciwgc3RyaW5nPjtcclxuICAgIHR5cGU6IENvbnRyb2xsZXJUeXBlXHJcbn0iLCJpbXBvcnQgeyBBbmltYXRpb25GdW5jdGlvbiwgVXBkYXRlRnVuY3Rpb24sIEFuaW1hdGFibGUsIEFuaW1hdGlvbiB9IGZyb20gXCIuL2FuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpZXcgaW1wbGVtZW50cyBBbmltYXRhYmxlIHtcclxuICAgIHB1YmxpYyBhbmltYXRpb25zOiBBbmltYXRpb25GdW5jdGlvbltdID0gW107XHJcbiAgICBwdWJsaWMgdXBkYXRlczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1Zpc2libGUgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyB3aWR0aDogbnVtYmVyO1xyXG4gICAgcHVibGljIGhlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGUgb2YgdGhpcy51cGRhdGVzKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGUodGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBhbmltYXRlIG9mIHRoaXMuYW5pbWF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0ZShjdHgsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaG93ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaGlkZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24gPSAoZnVuYzogQW5pbWF0aW9uRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlQW5pbWF0aW9uID0gKGZ1bmM6IEFuaW1hdGlvbkZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZSh0aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZSA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlcy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGUgPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZXMuc3BsaWNlKHRoaXMudXBkYXRlcy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5pbWF0YWJsZSA9IChhbmltYXRhYmxlOiBBbmltYXRhYmxlKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVzLnB1c2goYW5pbWF0YWJsZS51cGRhdGUpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1hdGFibGUuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUFuaW1hdGFibGUgPSAoYW5pbWF0YWJsZTogQW5pbWF0YWJsZSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGFuaW1hdGFibGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMudXBkYXRlcy5zcGxpY2UodGhpcy51cGRhdGVzLmluZGV4T2YoYW5pbWF0YWJsZS51cGRhdGUpLCAxKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGFibGUuZHJhdyksIDEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYW5pbWF0aW9ucy5sZW5ndGgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEVFdmVudCB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKCgpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VDxUPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmc6IFQpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmc6IFQpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VFQ8VDEsIFQyPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZzEsIGFyZzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2xsZXIsIFNpZ25hbHMsIENvbnRyb2xsZXJUeXBlIH0gZnJvbSBcIi4vY29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUVCB9IGZyb20gXCIuL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEtleWJvYXJkQ29udHJvbHMgaW1wbGVtZW50cyBDb250cm9sbGVyIHtcclxuICAgIHR5cGU6IENvbnRyb2xsZXJUeXBlO1xyXG4gICAgc2lnbmFsOiBFRXZlbnRUVDxDb250cm9sbGVyLCBzdHJpbmc+O1xyXG4gICAgcHVibGljIGE6IGJvb2xlYW47XHJcbiAgICBwdWJsaWMgeEF4ZXM6IG51bWJlcjtcclxuICAgIHB1YmxpYyB5QXhlczogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBzdGFydDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCB1cEtleTogbnVtYmVyLCBsZWZ0S2V5OiBudW1iZXIsIGRvd25LZXk6IG51bWJlciwgcmlnaHRLZXk6IG51bWJlciwgYTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy50eXBlID0gQ29udHJvbGxlclR5cGUua2V5Ym9hcmQ7XHJcbiAgICAgICAgdGhpcy5zaWduYWwgPSBuZXcgRUV2ZW50VFQ8Q29udHJvbGxlciwgc3RyaW5nPigpO1xyXG4gICAgICAgIHRoaXMueEF4ZXMgPSAwO1xyXG4gICAgICAgIHRoaXMueUF4ZXMgPSAwO1xyXG4gICAgICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBsZWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnhBeGVzID0gLTFcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgU2lnbmFscy5sZWZ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSB1cEtleSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy55QXhlcyA9IC0xO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBTaWduYWxzLnVwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSByaWdodEtleSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy54QXhlcyA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIFNpZ25hbHMucmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IGRvd25LZXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueUF4ZXMgPSAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWwuZGlzcGF0Y2hFdmVudCh0aGlzLCBTaWduYWxzLmRvd24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgU2lnbmFscy5zdGFydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gYSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgU2lnbmFscy5hKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBsZWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy54QXhlcyA9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gdXBLZXkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnlBeGVzID0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnlBeGVzID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSByaWdodEtleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueEF4ZXMgPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gZG93bktleSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueUF4ZXMgPSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55QXhlcyA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSBhKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmEgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVwYWRTY2FubmVyIHtcclxuICAgIHByaXZhdGUgZ2FtZXBhZFNjYW5uZXI6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZ2FtZXBhZHM6IEdhbWVwYWRbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc2Nhbm5lZEdhbWVwYWQgPSBuZXcgRUV2ZW50VDxHYW1lcGFkPigpO1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnQoKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lcGFkU2Nhbm5lciA9IHNldEludGVydmFsKHRoaXMuc2NhbmdhbWVwYWRzLCA1MDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wKCkge1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5nYW1lcGFkU2Nhbm5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuZ2FtZXBhZHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNjYW5nYW1lcGFkcyA9ICgpID0+IHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMgPyBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKSA6IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ2FtZXBhZHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGdhbWVwYWRzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShnYW1lcGFkc1tpXS5pbmRleCBpbiB0aGlzLmdhbWVwYWRzKSAmJiBnYW1lcGFkc1tpXS5idXR0b25zLmxlbmd0aCA+PSAxNikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZXBhZHNbZ2FtZXBhZHNbaV0uaW5kZXhdID0gZ2FtZXBhZHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2FubmVkR2FtZXBhZC5kaXNwYXRjaEV2ZW50KGdhbWVwYWRzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2Nhbm5lZEdhbWVwYWQ6IEVFdmVudFQ8R2FtZXBhZD47XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sbGVyLCBDb250cm9sbGVyVHlwZSwgU2lnbmFscyB9IGZyb20gXCIuL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lcGFkQ29udHJvbHMgaW1wbGVtZW50cyBDb250cm9sbGVyIHtcclxuICAgIHNpZ25hbDogRUV2ZW50VFQ8Q29udHJvbGxlciwgc3RyaW5nPjtcclxuICAgIHR5cGU6IENvbnRyb2xsZXJUeXBlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHByaXZhdGUgaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc2lnbmFsID0gbmV3IEVFdmVudFRUPENvbnRyb2xsZXIsIHN0cmluZz4oKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSBDb250cm9sbGVyVHlwZS5nYW1lcGFkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgeEF4ZXMoKTogbnVtYmVyIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYXhlc1swXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IHlBeGVzKCk6IG51bWJlciB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmF4ZXNbMV07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBzdGFydCgpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYnV0dG9uc1s5XS5wcmVzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgYSgpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYnV0dG9uc1swXS5wcmVzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgdXAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmJ1dHRvbnNbMTJdLnByZXNzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCByaWdodCgpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgZ2FtZXBhZHMgPSBuYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtcclxuICAgICAgICB2YXIgZ3AgPSBnYW1lcGFkc1t0aGlzLmluZGV4XTtcclxuICAgICAgICByZXR1cm4gZ3AuYnV0dG9uc1sxNV0ucHJlc3NlZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGRvd24oKTogYm9vbGVhbiB7XHJcbiAgICAgICAgdmFyIGdhbWVwYWRzID0gbmF2aWdhdG9yLmdldEdhbWVwYWRzKCk7XHJcbiAgICAgICAgdmFyIGdwID0gZ2FtZXBhZHNbdGhpcy5pbmRleF07XHJcbiAgICAgICAgcmV0dXJuIGdwLmJ1dHRvbnNbMTNdLnByZXNzZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBsZWZ0KCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHZhciBnYW1lcGFkcyA9IG5hdmlnYXRvci5nZXRHYW1lcGFkcygpO1xyXG4gICAgICAgIHZhciBncCA9IGdhbWVwYWRzW3RoaXMuaW5kZXhdO1xyXG4gICAgICAgIHJldHVybiBncC5idXR0b25zWzE0XS5wcmVzc2VkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmFibGVTaWduYWxzKCkge1xyXG4gICAgICAgIHRoaXMuc2lnbmFsTGlzdGVuZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRpbWVvdXQgPSAwLjU7XHJcbiAgICBwcml2YXRlIHNpZ25hbGluZ1RpbWVyczogeyBbaWQ6IHN0cmluZ106IG51bWJlciB9ID0ge307XHJcblxyXG4gICAgcHJpdmF0ZSBzaWduYWxMaXN0ZW5lciA9ICgpID0+IHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zaWduYWxMaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG5cclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMuc3RhcnQsIFNpZ25hbHMuc3RhcnQsIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLmEsIFNpZ25hbHMuYSwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMudXAsIFNpZ25hbHMudXAsIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLnJpZ2h0LCBTaWduYWxzLnJpZ2h0LCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy5sZWZ0LCBTaWduYWxzLmxlZnQsIG5vdyk7XHJcbiAgICAgICAgdGhpcy5jaGVja1NpZ25hbCh0aGlzLmRvd24sIFNpZ25hbHMuZG93biwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMueUF4ZXMgPCAtMC41LCBTaWduYWxzLnVwLCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy55QXhlcyA+IDAuNSwgU2lnbmFscy5kb3duLCBub3cpO1xyXG4gICAgICAgIHRoaXMuY2hlY2tTaWduYWwodGhpcy54QXhlcyA8IC0wLjUsIFNpZ25hbHMubGVmdCwgbm93KTtcclxuICAgICAgICB0aGlzLmNoZWNrU2lnbmFsKHRoaXMueEF4ZXMgPiAwLjUsIFNpZ25hbHMucmlnaHQsIG5vdyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjaGVja1NpZ25hbCA9IChpc1ByZXNzZWQ6IGJvb2xlYW4sIHNpZ25hbDogU2lnbmFscywgbm93OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoaXNQcmVzc2VkKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zaWduYWxpbmdUaW1lcnNbc2lnbmFsXSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduYWxpbmdUaW1lcnNbc2lnbmFsXSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25hbC5kaXNwYXRjaEV2ZW50KHRoaXMsIHNpZ25hbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoKG5vdyAtIHRoaXMuc2lnbmFsaW5nVGltZXJzW3NpZ25hbF0pIC8gMTAwMCA+PSB0aGlzLnRpbWVvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbmFsLmRpc3BhdGNoRXZlbnQodGhpcywgc2lnbmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zaWduYWxpbmdUaW1lcnNbc2lnbmFsXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vZW5jL3ZpZXdcIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciwgU2lnbmFscywgQ29udHJvbGxlclR5cGUgfSBmcm9tIFwiLi9lbmMvY29udHJvbGxlclwiO1xyXG5pbXBvcnQgeyBLZXlib2FyZENvbnRyb2xzIH0gZnJvbSBcIi4vZW5jL2tleWJvYXJkQ29udHJvbHNcIjtcclxuaW1wb3J0IHsgR2FtZXBhZFNjYW5uZXIgfSBmcm9tIFwiLi9lbmMvZ2FtZXBhZFNjYW5uZXJcIjtcclxuaW1wb3J0IHsgR2FtZXBhZENvbnRyb2xzIH0gZnJvbSBcIi4vZW5jL2dhbWVwYWRDb250cm9sc1wiO1xyXG5pbXBvcnQgY29udHJvbHNfZ2FtZXBhZCBmcm9tIFwiLi9hc3NldHMvY29udHJvbHNfZ2FtZXBhZC5wbmdcIjtcclxuaW1wb3J0IGNvbnRyb2xzX2tleWJvYXJkIGZyb20gXCIuL2Fzc2V0cy9jb250cm9sc19rZXlib2FyZC5wbmdcIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4vZW5jL2VFdmVudFwiO1xyXG5pbXBvcnQgeyBXZWJSdGNDb25uZWN0b3IgfSBmcm9tIFwiLi9lbmMvd2ViUnRjQ29ubmVjdG9yXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTWFpbk1lbnVWaWV3IGV4dGVuZHMgVmlldyB7XHJcbiAgICBwcml2YXRlIHNlbGVjdGVkT3B0aW9uOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG9wdGlvbnM6IHN0cmluZ1tdID0gW107XHJcbiAgICBwdWJsaWMgY29udHJvbGxlcnM6IENvbnRyb2xsZXJbXSA9IFtdO1xyXG4gICAgY29udHJvbHNfZ2FtZXBhZF9pbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIGNvbnRyb2xzX2tleWJvYXJkX2ltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG5cclxuICAgIHByaXZhdGUgc2hvd0NvbnRyb2xzOiBib29sZWFuO1xyXG4gICAgZ2FtZXBhZFNjYW5uZXI6IEdhbWVwYWRTY2FubmVyO1xyXG5cclxuICAgIHB1YmxpYyByZXF1ZXN0U3RhcnQ6IEVFdmVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihcIk1lbnVWaWV3XCIpO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdFN0YXJ0ID0gbmV3IEVFdmVudCgpO1xyXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IFtcIlN0YXJ0IEdhbWVcIiwgXCJTaG93IC8gSGlkZSBDb250cm9sc1wiXTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uID0gMDtcclxuICAgICAgICB0aGlzLnNob3dDb250cm9scyA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuY29udHJvbHNfZ2FtZXBhZF9pbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHRoaXMuY29udHJvbHNfZ2FtZXBhZF9pbWFnZS5zcmMgPSBjb250cm9sc19nYW1lcGFkO1xyXG4gICAgICAgIHRoaXMuY29udHJvbHNfa2V5Ym9hcmRfaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzX2tleWJvYXJkX2ltYWdlLnNyYyA9IGNvbnRyb2xzX2tleWJvYXJkO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbigoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3dDb250cm9scykge1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld1dpZHRoID0gd2lkdGggLyAzO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5ld0hlaWdodCA9IG5ld1dpZHRoIC8gdGhpcy5jb250cm9sc19nYW1lcGFkX2ltYWdlLm5hdHVyYWxXaWR0aCAqIHRoaXMuY29udHJvbHNfZ2FtZXBhZF9pbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmNvbnRyb2xzX2dhbWVwYWRfaW1hZ2UsIG5ld1dpZHRoIC0gbmV3V2lkdGggLyAyLCBoZWlnaHQgKiAzIC8gNCAtIG5ld0hlaWdodCAvIDIsIG5ld1dpZHRoLCBuZXdIZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgbmV3SGVpZ2h0ID0gbmV3V2lkdGggLyB0aGlzLmNvbnRyb2xzX2tleWJvYXJkX2ltYWdlLm5hdHVyYWxXaWR0aCAqIHRoaXMuY29udHJvbHNfa2V5Ym9hcmRfaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5jb250cm9sc19rZXlib2FyZF9pbWFnZSwgbmV3V2lkdGggKiAyIC0gbmV3V2lkdGggLyAyLCBoZWlnaHQgKiAzIC8gNCAtIG5ld0hlaWdodCAvIDIsIG5ld1dpZHRoLCBuZXdIZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0aW9uKHRoaXMuZHJhd09wdGlvbnMpO1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0aW9uKHRoaXMuZHJhd0NvbnRyb2xsZXJzKTtcclxuXHJcbiAgICAgICAgdGhpcy5nYW1lcGFkU2Nhbm5lciA9IG5ldyBHYW1lcGFkU2Nhbm5lcigpO1xyXG4gICAgICAgIHRoaXMuZ2FtZXBhZFNjYW5uZXIuc2Nhbm5lZEdhbWVwYWQuYWRkRXZlbnRMaXN0ZW5lcigoZ2FtZXBhZDogR2FtZXBhZCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZENvbnRyb2xsZXIobmV3IEdhbWVwYWRDb250cm9scyhnYW1lcGFkLmluZGV4LnRvU3RyaW5nKCksIGdhbWVwYWQuaW5kZXgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWVwYWRTY2FubmVyLnN0YXJ0KCk7XHJcblxyXG4gICAgICAgIC8vIHZhciBydGMgPSBuZXcgV2ViUnRjQ29ubmVjdG9yKCk7XHJcblxyXG4gICAgICAgIHZhciBrZXlib2FyZCA9IG5ldyBLZXlib2FyZENvbnRyb2xzKFwiYXJyb3dzXCIsIDM4LCAzNywgNDAsIDM5LCAzMik7XHJcbiAgICAgICAgdGhpcy5hZGRDb250cm9sbGVyKGtleWJvYXJkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhd09wdGlvbnMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXJzLmxlbmd0aCA8PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSAyMjtcclxuICAgICAgICBjb25zdCBtYXJnaW4gPSA1O1xyXG4gICAgICAgIGNvbnN0IG9wdGlvbnNIZWlnaHQgPSAoZm9udFNpemUgKyBtYXJnaW4gKiAyKSAqIHRoaXMub3B0aW9ucy5sZW5ndGg7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRIZWlnaHQgPSBoZWlnaHQgLyAyIC0gb3B0aW9uc0hlaWdodCAvIDI7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gdGhpcy5vcHRpb25zW2ldO1xyXG5cclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7IC8vIHN0YXJ0IC8gbGVmdCAvIGNlbnRlciAvIHJpZ2h0IC8gZW5kXHJcbiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcIm1pZGRsZVwiIC8vIGJvdHRvbSAvIGFscGhhYmV0aWMgLyBtaWRkbGUgLyBoYW5naW5nIC8gdG9wXHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gXCIyMnB4IHNhbnMtc2VyaWZcIjtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9uSGVpZ2h0ID0gc3RhcnRIZWlnaHQgKyBtYXJnaW4gKyAoZm9udFNpemUgKyBtYXJnaW4gKiAyKSAqIGk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChvcHRpb24sIHdpZHRoIC8gMiwgb3B0aW9uSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpID09PSB0aGlzLnNlbGVjdGVkT3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguc3Ryb2tlUmVjdCh3aWR0aCAvIDIgLSBjdHgubWVhc3VyZVRleHQob3B0aW9uKS53aWR0aCAvIDIgLSBtYXJnaW4sIG9wdGlvbkhlaWdodCAtIGZvbnRTaXplIC8gMiAtIG1hcmdpbiwgY3R4Lm1lYXN1cmVUZXh0KG9wdGlvbikud2lkdGggKyBtYXJnaW4gKiAyLCBmb250U2l6ZSArIG1hcmdpbiAqIDIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3Q29udHJvbGxlcnMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIG1hcmdpbiA9IDE1O1xyXG4gICAgICAgIHZhciBjb250cm9sbGVyV2lkdGggPSA2MDtcclxuICAgICAgICB2YXIgdG90YWxXaWR0aCA9IG1hcmdpbiArIHRoaXMuY29udHJvbGxlcnMubGVuZ3RoICogKGNvbnRyb2xsZXJXaWR0aCArIG1hcmdpbilcclxuICAgICAgICB2YXIgc3RhcnRYID0gd2lkdGggLyAyIC0gdG90YWxXaWR0aCAvIDJcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY29udHJvbGxlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiaHNsKFwiICsgaSAvIHRoaXMuY29udHJvbGxlcnMubGVuZ3RoICogMzYwICsgXCIsMTAwJSwgNDAlKVwiO1xyXG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5jb250cm9sbGVyc1tpXTtcclxuICAgICAgICAgICAgdmFyIHggPSBzdGFydFggKyBtYXJnaW4gKyAobWFyZ2luICsgY29udHJvbGxlcldpZHRoKSAqIGk7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoZWxlbWVudC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENvbnRyb2xsZXJUeXBlLmdhbWVwYWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZvbnQgPSAnNjBweCBGb250QXdlc29tZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KCdcXHVmMTFiJywgeCwgaGVpZ2h0IC8gNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENvbnRyb2xsZXJUeXBlLmtleWJvYXJkOlxyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gJzYwcHggRm9udEF3ZXNvbWUnO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsVGV4dCgnXFx1ZjExYycsIHgsIGhlaWdodCAvIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENvbnRyb2xsZXIgPSAoY29udHJvbGxlcjogQ29udHJvbGxlcikgPT4ge1xyXG4gICAgICAgIGlmIChjb250cm9sbGVyLnR5cGUgPT0gQ29udHJvbGxlclR5cGUuZ2FtZXBhZCkge1xyXG4gICAgICAgICAgICAoPEdhbWVwYWRDb250cm9scz5jb250cm9sbGVyKS5lbmFibGVTaWduYWxzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jb250cm9sbGVyU2lnbmFsKVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY29udHJvbGxlclNpZ25hbCA9IChzZW5kZXI6IENvbnRyb2xsZXIsIHNpZ25hbDogU2lnbmFscykgPT4ge1xyXG4gICAgICAgIGlmIChzaWduYWwgPT0gU2lnbmFscy5zdGFydCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb250cm9sbGVycy5pbmRleE9mKHNlbmRlcikgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycy5zcGxpY2UodGhpcy5jb250cm9sbGVycy5pbmRleE9mKHNlbmRlciksIDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVycy5wdXNoKHNlbmRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY29udHJvbGxlcnMubGVuZ3RoID4gMCAmJiB0aGlzLmNvbnRyb2xsZXJzWzBdID09IHNlbmRlcikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHNpZ25hbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTaWduYWxzLmRvd246XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkT3B0aW9uID49IHRoaXMub3B0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBTaWduYWxzLnVwOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24tLTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbiA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IHRoaXMub3B0aW9ucy5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU2lnbmFscy5hOlxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5zZWxlY3RlZE9wdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVwYWRTY2FubmVyLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdFN0YXJ0LmRpc3BhdGNoRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dDb250cm9scyA9ICF0aGlzLnNob3dDb250cm9scztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBIZWxwZXIge1xyXG4gICAgcHVibGljIHN0YXRpYyBjb2xvckltYWdlID0gKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50LCBoOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgdmFyIHRlbXBDdHggPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICAgICAgICAgIHRlbXBDdHguZHJhd0ltYWdlKGltYWdlLCAwLCAwKTtcclxuICAgICAgICAgICAgdmFyIGltYWdlRGF0YSA9IHRlbXBDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRlbXBDYW52YXMud2lkdGgsIHRlbXBDYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpID0gaSArIDQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgICAgIHZhciBiID0gaW1hZ2VEYXRhLmRhdGFbaSArIDJdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPSBpbWFnZURhdGEuZGF0YVtpICsgM107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGEgPiAwLjUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAociAtIGcgPiA1MCAmJiByIC0gYiA+IDUwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGggPSBoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gMC41O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBlICogdTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBjICogKDEgLSBNYXRoLmFicygoaCAvIDYwKSAlIDIgLSAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtID0gZSAtIGM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcng7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBneDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaCA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBneCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDEyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAxODApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0gYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMjQwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBneCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBieCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnggPSB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ4ID0gKHJ4ICsgbSkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGd4ID0gKGd4ICsgbSkgKiAyNTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ4ID0gKGJ4ICsgbSkgKiAyNTU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpXSA9IHJ4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbWFnZURhdGEuZGF0YVtpICsgMV0gPSBneDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaSArIDJdID0gYng7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRlbXBDdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XHJcblxyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSB0ZW1wQ2FudmFzLnRvRGF0YVVSTCgpO1xyXG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY29sb3JJbWFnZUFueSA9IChpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgaDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgIHRlbXBDYW52YXMud2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG5cclxuICAgICAgICB2YXIgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgICAgICB0ZW1wQ3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCk7XHJcbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IHRlbXBDdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIHRlbXBDYW52YXMud2lkdGgsIHRlbXBDYW52YXMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgPSBpICsgNCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IGltYWdlRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07XHJcbiAgICAgICAgICAgIHZhciBhID0gaW1hZ2VEYXRhLmRhdGFbaSArIDNdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGEgPiAwLjUpIHtcclxuICAgICAgICAgICAgICAgIGggPSBoO1xyXG4gICAgICAgICAgICAgICAgdmFyIHUgPSAxO1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSAwLjU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBlICogdTtcclxuICAgICAgICAgICAgICAgIHZhciB4ID0gYyAqICgxIC0gTWF0aC5hYnMoKGggLyA2MCkgJSAyIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBlIC0gYztcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgcng7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ3g7XHJcbiAgICAgICAgICAgICAgICB2YXIgYng7XHJcbiAgICAgICAgICAgICAgICBpZiAoaCA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBieCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAxMjApIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3ggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ4ID0gMDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaCA8IDE4MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJ4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBneCA9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnggPSB4O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoIDwgMjQwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0geDtcclxuICAgICAgICAgICAgICAgICAgICBieCA9IGM7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGggPCAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICByeCA9IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3ggPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJ4ID0gYztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcnggPSBjO1xyXG4gICAgICAgICAgICAgICAgICAgIGd4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBieCA9IHg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByeCA9IChyeCArIG0pICogMjU1O1xyXG4gICAgICAgICAgICAgICAgZ3ggPSAoZ3ggKyBtKSAqIDI1NTtcclxuICAgICAgICAgICAgICAgIGJ4ID0gKGJ4ICsgbSkgKiAyNTU7XHJcblxyXG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaV0gPSByeDtcclxuICAgICAgICAgICAgICAgIGltYWdlRGF0YS5kYXRhW2kgKyAxXSA9IGd4O1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VEYXRhLmRhdGFbaSArIDJdID0gYng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGVtcEN0eC5wdXRJbWFnZURhdGEoaW1hZ2VEYXRhLCAwLCAwKTtcclxuXHJcbiAgICAgICAgaW1hZ2Uuc3JjID0gdGVtcENhbnZhcy50b0RhdGFVUkwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEltYWdlRGF0YSA9IChpbWFnZTogSFRNTEltYWdlRWxlbWVudCwgY2FsbGJhY2s6IChpbWFnZURhdGE6IEltYWdlRGF0YSkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgICAgICAgICAgdGVtcEN0eC5kcmF3SW1hZ2UoaW1hZ2UsIDAsIDApO1xyXG4gICAgICAgICAgICBjYWxsYmFjayh0ZW1wQ3R4LmdldEltYWdlRGF0YSgwLCAwLCB0ZW1wQ2FudmFzLndpZHRoLCB0ZW1wQ2FudmFzLmhlaWdodCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBSZWN0YW5nbGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlciwgcHVibGljIHdpZHRoOiBudW1iZXIsIHB1YmxpYyBoZWlnaHQ6IG51bWJlcikgeyB9XHJcblxyXG4gICAgcHVibGljIGNvbGxpZGVzV2l0aChyZWN0YW5nbGU6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHZhciBoaXR4ID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGhpdHkgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy54IDw9IHJlY3RhbmdsZS54KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLnggJiYgdGhpcy54ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS54KSB7XHJcbiAgICAgICAgICAgICAgICBoaXR4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChyZWN0YW5nbGUueCA8PSB0aGlzLnggJiYgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGggPiB0aGlzLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChoaXR4KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkgJiYgdGhpcy55ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnkgPD0gdGhpcy55ICYmIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoaXR4ICYmIGhpdHk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRhYmxlIH0gZnJvbSBcIi4vZW5jL2FuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyLCBTaWduYWxzIH0gZnJvbSBcIi4vZW5jL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHBsYXllckltYWdlQXNzZXQgZnJvbSBcIi4vYXNzZXRzL3BsYXllci5wbmdcIjtcclxuaW1wb3J0IHsgSGVscGVyIH0gZnJvbSBcIi4vZW5jL2hlbHBlclwiO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSBcIi4vYmFsbFwiO1xyXG5pbXBvcnQgeyBCYWxsU3Bhd25lciB9IGZyb20gXCIuL2JhbGxTcGF3bmVyXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuL2VuYy9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgVHJlZSB9IGZyb20gXCIuL3RyZWVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIgaW1wbGVtZW50cyBBbmltYXRhYmxlIHtcclxuXHJcbiAgICBwcml2YXRlIHBsYXllckltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSB4OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHk6IG51bWJlcjtcclxuICAgIGNvbG9yOiBzdHJpbmc7XHJcbiAgICBtb3ZlTGVmdDogYm9vbGVhbjtcclxuICAgIHZ5OiBudW1iZXI7XHJcbiAgICBnOiBudW1iZXI7XHJcbiAgICBpc0p1bXBpbmc6IGJvb2xlYW47XHJcbiAgICBiYXNlWTogbnVtYmVyO1xyXG5cclxuICAgIGJhbGxMZWZ0OiBCYWxsO1xyXG4gICAgYmFsbFJpZ2h0OiBCYWxsO1xyXG4gICAgcG9zaXRpb246IGFueTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbnRyb2xsZXI6IENvbnRyb2xsZXIsIHB1YmxpYyBwbGF5ZXJOdW1iZXI6IG51bWJlciwgcHJpdmF0ZSBiYWxsU3Bhd25lcjogQmFsbFNwYXduZXIsIHByaXZhdGUgdHJlZTogVHJlZSkge1xyXG4gICAgICAgIHRoaXMucGxheWVySW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICB0aGlzLnBsYXllckltYWdlLnNyYyA9IHBsYXllckltYWdlQXNzZXQ7XHJcbiAgICAgICAgSGVscGVyLmNvbG9ySW1hZ2UodGhpcy5wbGF5ZXJJbWFnZSwgdGhpcy5wbGF5ZXJOdW1iZXIgKiAzNjApO1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLnZ5ID0gMDtcclxuICAgICAgICB0aGlzLmcgPSAzMDAwIC8gOTY5ICogd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5iYWxsTGVmdCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5iYWxsUmlnaHQgPSBudWxsO1xyXG4gICAgICAgIGNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jb250cm9sbGVyU2lnbmFsKVxyXG5cclxuXHJcbiAgICAgICAgdGhpcy5jb2xvciA9IFwiaHNsKFwiICsgcGxheWVyTnVtYmVyICogMzYwICsgXCIsMTAwJSwgMzAlKVwiXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBvaW50cyA9IDA7XHJcblxyXG4gICAgcHJpdmF0ZSBjb250cm9sbGVyU2lnbmFsID0gKHNlbmRlcjogQ29udHJvbGxlciwgc2lnbmFsOiBTaWduYWxzKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoc2lnbmFsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFNpZ25hbHMudXA6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSArICc6ICcgKyB0aGlzLnkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52eSA9IC0yMDAwIC8gOTY5ICogd2luZG93LmlubmVySGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VZID0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgU2lnbmFscy5hOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmJhbGxMZWZ0ID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlZnRCYWxsID0gdGhpcy5iYWxsU3Bhd25lci5nZXRCYWxsKHRoaXMuZ2V0TGVmdEhhbmRIaXRSZWN0KCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVmdEJhbGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRCYWxsLmNvbG9yKHRoaXMucGxheWVyTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFsbExlZnQgPSBsZWZ0QmFsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludHMgPSB0aGlzLnRyZWUuYWRkQmFsbCh0aGlzLmJhbGxMZWZ0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludHMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50cyArPSBwb2ludHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbGxMZWZ0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5iYWxsUmlnaHQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmlnaHRCYWxsID0gdGhpcy5iYWxsU3Bhd25lci5nZXRCYWxsKHRoaXMuZ2V0UmlnaHRIYW5kSGl0UmVjdCgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJpZ2h0QmFsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRCYWxsLmNvbG9yKHRoaXMucGxheWVyTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYmFsbFJpZ2h0ID0gcmlnaHRCYWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IHRoaXMudHJlZS5hZGRCYWxsKHRoaXMuYmFsbFJpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb2ludHMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50cyArPSBwb2ludHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJhbGxSaWdodCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsZWZ0SGFuZE9mZnNldCA9IDU7XHJcbiAgICBwcml2YXRlIHJpZ2h0SGFuZE9mZnNldCA9IDEyMDtcclxuICAgIHByaXZhdGUgdG9wSGFuZE9mZnNldCA9IDE0MFxyXG4gICAgcHJpdmF0ZSBoYW5kU2l6ZSA9IDI1O1xyXG5cclxuICAgIHByaXZhdGUgZ2V0TGVmdEhhbmRIaXRSZWN0ID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCArIHRoaXMubGVmdEhhbmRPZmZzZXQsIHRoaXMueSArIHRoaXMudG9wSGFuZE9mZnNldCwgdGhpcy5oYW5kU2l6ZSwgdGhpcy5oYW5kU2l6ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRSaWdodEhhbmRIaXRSZWN0ID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHRoaXMueCArIHRoaXMucmlnaHRIYW5kT2Zmc2V0LCB0aGlzLnkgKyB0aGlzLnRvcEhhbmRPZmZzZXQsIHRoaXMuaGFuZFNpemUsIHRoaXMuaGFuZFNpemUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB0aGlzLnggKyB0aGlzLmNvbnRyb2xsZXIueEF4ZXMgKiB0aW1lRGlmZiAqIDUwMCAqIDI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xsZXIueEF4ZXMgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVMZWZ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbnRyb2xsZXIueEF4ZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVMZWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueSA9IHRoaXMueSArIHRoaXMudnkgKiB0aW1lRGlmZjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy52eSA8PSAwICYmIHRoaXMudnkgKyB0aGlzLmcgKiB0aW1lRGlmZiA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSArICc6ICcgKyB0aGlzLnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudnkgPSB0aGlzLnZ5ICsgdGhpcy5nICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnkgPiB0aGlzLmJhc2VZKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZ5ID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMueSA9IHRoaXMuYmFzZVk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgKyAnOiAnICsgdGhpcy55KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJhbGxMZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbExlZnQueCA9IHRoaXMueCArIHRoaXMubGVmdEhhbmRPZmZzZXQgKyB0aGlzLmhhbmRTaXplIC8gMjtcclxuICAgICAgICAgICAgdGhpcy5iYWxsTGVmdC55ID0gdGhpcy55ICsgdGhpcy50b3BIYW5kT2Zmc2V0IC0gdGhpcy5oYW5kU2l6ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJhbGxSaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmJhbGxSaWdodC54ID0gdGhpcy54ICsgdGhpcy5yaWdodEhhbmRPZmZzZXQgKyB0aGlzLmhhbmRTaXplIC8gMjtcclxuICAgICAgICAgICAgdGhpcy5iYWxsUmlnaHQueSA9IHRoaXMueSArIHRoaXMudG9wSGFuZE9mZnNldCAtIHRoaXMuaGFuZFNpemU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMueSA9PSAwICYmIHRoaXMucGxheWVySW1hZ2UubmF0dXJhbEhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLnkgPSBoZWlnaHQgLSA0MCAtIHRoaXMucGxheWVySW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5tb3ZlTGVmdCkge1xyXG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICBjdHguc2NhbGUoLTEsIDEpO1xyXG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMucGxheWVySW1hZ2UsIC10aGlzLnggKyAtdGhpcy5wbGF5ZXJJbWFnZS5uYXR1cmFsV2lkdGgsIHRoaXMueSk7XHJcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLnBsYXllckltYWdlLCB0aGlzLngsIHRoaXMueSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5iYWxsTGVmdCkge1xyXG4gICAgICAgICAgICB0aGlzLmJhbGxMZWZ0LmRyYXcoY3R4LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJhbGxSaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmJhbGxSaWdodC5kcmF3KGN0eCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY3R4LmZvbnQgPSBcIjYwcHggc2Fucy1zZXJpZlwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnBvaW50cy50b1N0cmluZygpLCAwLCBoZWlnaHQgKiB0aGlzLnBsYXllck51bWJlcik7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gKDgwIC0gdGhpcy5wb3NpdGlvbiAqIDcpICsgXCJweCBzYW5zLXNlcmlmXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnBvc2l0aW9uICsgXCIuXCIsIDE1MCwgaGVpZ2h0ICogdGhpcy5wbGF5ZXJOdW1iZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZW5kID0gKHBvc2l0aW9uOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRhYmxlIH0gZnJvbSBcIi4vZW5jL2FuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyLCBTaWduYWxzIH0gZnJvbSBcIi4vZW5jL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHRyZWVJbWFnZUFzc2V0IGZyb20gXCIuL2Fzc2V0cy90cmVlLnBuZ1wiO1xyXG5pbXBvcnQgeyBIZWxwZXIgfSBmcm9tIFwiLi9lbmMvaGVscGVyXCI7XHJcbmltcG9ydCB7IEJhbGwgfSBmcm9tIFwiLi9iYWxsXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuL2VuYy9yZWN0YW5nbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBUcmVlIGltcGxlbWVudHMgQW5pbWF0YWJsZSB7XHJcbiAgICBwcml2YXRlIHRyZWVJbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIHByaXZhdGUgeDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSB5OiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgYmFsbHM6IEJhbGxbXSA9IFtdO1xyXG4gICAgdHJlZUltYWdlRGF0YTogSW1hZ2VEYXRhO1xyXG4gICAgcmVjYWxjdWxhdGU6IGJvb2xlYW47XHJcbiAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgaGVpZ2h0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBvaW50c0xpbmVzID0gWzAuMCwgMC4zLCAwLjUsIDAuNywgMC44LCAwLjldO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudHJlZUltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy50cmVlSW1hZ2Uuc3JjID0gdHJlZUltYWdlQXNzZXQ7XHJcbiAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQmFsbCA9IChiYWxsOiBCYWxsKTogbnVtYmVyID0+IHtcclxuICAgICAgICBpZiAoYmFsbC5nZXRIaXRSZWN0KCkuY29sbGlkZXNXaXRoKG5ldyBSZWN0YW5nbGUodGhpcy54LCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KSkpIHtcclxuICAgICAgICAgICAgdmFyIHggPSBNYXRoLnJvdW5kKChiYWxsLnggLSB0aGlzLngpIC8gdGhpcy53aWR0aCAqIHRoaXMudHJlZUltYWdlRGF0YS53aWR0aCk7XHJcbiAgICAgICAgICAgIHZhciB5ID0gTWF0aC5yb3VuZCgoYmFsbC55IC0gdGhpcy55KSAvIHRoaXMuaGVpZ2h0ICogdGhpcy50cmVlSW1hZ2VEYXRhLmhlaWdodCk7XHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IGlzQmFsbE9uVHJlZSA9IHRoaXMuaXNQb2ludE9uVHJlZSh5LCB4KTtcclxuICAgICAgICAgICAgaWYgKGlzQmFsbE9uVHJlZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxscy5wdXNoKGJhbGwpO1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBwb2ludHNZID0gMSAtIChiYWxsLnkgLSB0aGlzLnkpIC8gdGhpcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHNMaW5lcy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2ludHNMaW5lID0gdGhpcy5wb2ludHNMaW5lc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzWSA8IHRoaXMucG9pbnRzTGluZXNbaSArIDFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb2ludHNMaW5lcy5sZW5ndGhcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5yZWNhbGN1bGF0ZSkge1xyXG4gICAgICAgICAgICBsZXQgbmV3SGVpZ2h0ID0gaGVpZ2h0ICogMyAvIDQ7XHJcbiAgICAgICAgICAgIGxldCBuZXdXaWR0aCA9IG5ld0hlaWdodCAvIHRoaXMudHJlZUltYWdlLm5hdHVyYWxXaWR0aCAqIHRoaXMudHJlZUltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHdpZHRoIC0gbmV3V2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IGhlaWdodCAtIG5ld0hlaWdodCAtIDIwO1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gbmV3V2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gbmV3SGVpZ2h0O1xyXG4gICAgICAgICAgICBIZWxwZXIuZ2V0SW1hZ2VEYXRhKHRoaXMudHJlZUltYWdlLCAoaW1hZ2VEYXRhKSA9PiB0aGlzLnRyZWVJbWFnZURhdGEgPSBpbWFnZURhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHNMaW5lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludExpbmUgPSAxIC0gdGhpcy5wb2ludHNMaW5lc1tpXTtcclxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBjdHgubW92ZVRvKHRoaXMueCArIHRoaXMud2lkdGggLyAyLCB0aGlzLnkgKyB0aGlzLmhlaWdodCAqIHBvaW50TGluZSk7XHJcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy54ICsgdGhpcy53aWR0aCwgdGhpcy55ICsgdGhpcy5oZWlnaHQgKiBwb2ludExpbmUpO1xyXG5cclxuICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJib3R0b21cIjtcclxuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwicmlnaHRcIjtcclxuICAgICAgICAgICAgY3R4LmZvbnQgPSBcIjYwcHggc2Fucy1zZXJpZlwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQoKGkgKyAxKS50b1N0cmluZygpLCB0aGlzLnggKyB0aGlzLndpZHRoLCB0aGlzLnkgKyB0aGlzLmhlaWdodCAqIHBvaW50TGluZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMudHJlZUltYWdlLCB0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuYmFsbHMuZm9yRWFjaChiYWxsID0+IHtcclxuICAgICAgICAgICAgYmFsbC5kcmF3KGN0eCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzUG9pbnRPblRyZWUoeTogbnVtYmVyLCB4OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy50cmVlSW1hZ2VEYXRhKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHlzID0geSAtIDU7IHlzIDwgeSArIDU7IHlzKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHhzID0geCAtIDU7IHhzIDwgeCArIDU7IHhzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHRoaXMudHJlZUltYWdlRGF0YS5kYXRhW3hzICogNCArIHlzICogNCAqIHRoaXMudHJlZUltYWdlRGF0YS53aWR0aCArIDNdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhID4gMC41KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRhYmxlIH0gZnJvbSBcIi4vZW5jL2FuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyLCBTaWduYWxzIH0gZnJvbSBcIi4vZW5jL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IGJhbGxJbWFnZUFzc2V0IGZyb20gXCIuL2Fzc2V0cy9iYWxsLnBuZ1wiO1xyXG5pbXBvcnQgeyBIZWxwZXIgfSBmcm9tIFwiLi9lbmMvaGVscGVyXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuL2VuYy9yZWN0YW5nbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCYWxsIGltcGxlbWVudHMgQW5pbWF0YWJsZSB7XHJcbiAgICBwcml2YXRlIGJhbGxJbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgICBwdWJsaWMgeTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYmFsbEltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgdGhpcy5iYWxsSW1hZ2Uuc3JjID0gYmFsbEltYWdlQXNzZXQ7XHJcbiAgICAgICAgSGVscGVyLmNvbG9ySW1hZ2UodGhpcy5iYWxsSW1hZ2UsIE1hdGgucmFuZG9tKCkgKiAzNjApO1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SGl0UmVjdCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh0aGlzLnggLSB0aGlzLmJhbGxJbWFnZS5uYXR1cmFsV2lkdGggLyAyLCB0aGlzLnksIHRoaXMuYmFsbEltYWdlLm5hdHVyYWxXaWR0aCwgdGhpcy5iYWxsSW1hZ2UubmF0dXJhbEhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbG9yID0gKHBsYXllck51bWJlcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjb2xvclwiKTtcclxuICAgICAgICBcclxuICAgICAgICBIZWxwZXIuY29sb3JJbWFnZUFueSh0aGlzLmJhbGxJbWFnZSwgcGxheWVyTnVtYmVyICogMzYwKVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmJhbGxJbWFnZSwgdGhpcy54IC0gdGhpcy5iYWxsSW1hZ2UubmF0dXJhbFdpZHRoIC8gMiwgdGhpcy55KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBBbmltYXRpb25UaWNrZXIge1xyXG4gICAgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBpbnRlcnZhbE1zOiBudW1iZXIsIHByaXZhdGUgZnVuYzogKCkgPT4gdm9pZCkgeyB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmxhc3RGcmFtZVRpbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG5cclxuICAgICAgICBpZiAoZWxhcHNlZCA+IHRoaXMuaW50ZXJ2YWxNcykge1xyXG5cclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gbm93O1xyXG4gICAgICAgICAgICB0aGlzLmZ1bmMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBbmltYXRhYmxlIH0gZnJvbSBcIi4vZW5jL2FuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyLCBTaWduYWxzIH0gZnJvbSBcIi4vZW5jL2NvbnRyb2xsZXJcIjtcclxuaW1wb3J0IHBsYXllckltYWdlQXNzZXQgZnJvbSBcIi4vYXNzZXRzL2JhbGwucG5nXCI7XHJcbmltcG9ydCB7IEhlbHBlciB9IGZyb20gXCIuL2VuYy9oZWxwZXJcIjtcclxuaW1wb3J0IHsgQmFsbCB9IGZyb20gXCIuL2JhbGxcIjtcclxuaW1wb3J0IHsgQW5pbWF0aW9uVGlja2VyIH0gZnJvbSBcIi4vZW5jL2FuaW1hdGlvblRpY2tlclwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi9lbmMvcmVjdGFuZ2xlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFsbFNwYXduZXIgaW1wbGVtZW50cyBBbmltYXRhYmxlIHtcclxuXHJcbiAgICBwcml2YXRlIHJhdGUgPSAyMDtcclxuICAgIHByaXZhdGUgYmFsbHM6IEJhbGxbXSA9IFtdO1xyXG4gICAgdGlja2VyOiBBbmltYXRpb25UaWNrZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW50ZXJ2YWxNczogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy50aWNrZXIgPSBuZXcgQW5pbWF0aW9uVGlja2VyKGludGVydmFsTXMsIHRoaXMuc3Bhd25CYWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QmFsbCA9IChyZWN0YW5nbGU6IFJlY3RhbmdsZSk6IEJhbGwgPT4ge1xyXG4gICAgICAgIHZhciBiYWxsSW5kZXggPSAtMTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmFsbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYmFsbCA9IHRoaXMuYmFsbHNbaV07XHJcbiAgICAgICAgICAgIGlmIChiYWxsLmdldEhpdFJlY3QoKS5jb2xsaWRlc1dpdGgocmVjdGFuZ2xlKSkge1xyXG4gICAgICAgICAgICAgICAgYmFsbEluZGV4ID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYmFsbEluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgdmFyIGJhbGwgPSB0aGlzLmJhbGxzW2JhbGxJbmRleF07XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbHMuc3BsaWNlKGJhbGxJbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybiBiYWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNwYXduQmFsbCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgYmFsbCA9IG5ldyBCYWxsKCk7XHJcbiAgICAgICAgYmFsbC54ID0gTWF0aC5yYW5kb20oKSAqIDYwMCArIDEwMDtcclxuICAgICAgICBiYWxsLnkgPSAtMTAwO1xyXG4gICAgICAgIHRoaXMuYmFsbHMucHVzaChiYWxsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLnRpY2tlci51cGRhdGUodGltZURpZmYpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5iYWxscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBiYWxsID0gdGhpcy5iYWxsc1tpXTtcclxuICAgICAgICAgICAgYmFsbC55ID0gYmFsbC55ICsgMzAgKiB0aW1lRGlmZjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICB2YXIgcmVtb3ZlSW5kaWNlczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYmFsbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgYmFsbCA9IHRoaXMuYmFsbHNbaV07XHJcbiAgICAgICAgICAgIGJhbGwuZHJhdyhjdHgpO1xyXG4gICAgICAgICAgICBpZiAoYmFsbC55ID4gaGVpZ2h0ICsgMTAwKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVJbmRpY2VzLnB1c2goaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlSW5kaWNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlbW92ZUluZGljZXNbaV07XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBWaWV3IH0gZnJvbSBcIi4vZW5jL3ZpZXdcIjtcclxuaW1wb3J0IHsgQ29udHJvbGxlciwgU2lnbmFscyB9IGZyb20gXCIuL2VuYy9jb250cm9sbGVyXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuL2VuYy9lRXZlbnRcIjtcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyXCI7XHJcbmltcG9ydCB0cmVlSW1hZ2VBc3NldCBmcm9tIFwiLi9hc3NldHMvdHJlZS5wbmdcIjtcclxuaW1wb3J0IHsgVHJlZSB9IGZyb20gXCIuL3RyZWVcIjtcclxuaW1wb3J0IHsgQmFsbFNwYXduZXIgfSBmcm9tIFwiLi9iYWxsU3Bhd25lclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVWaWV3IGV4dGVuZHMgVmlldyB7XHJcbiAgICBwcml2YXRlIGFsbG93TmV3R2FtZTogYm9vbGVhbjtcclxuICAgIHB1YmxpYyByZXF1ZXN0TmV3R2FtZTogRUV2ZW50O1xyXG4gICAgY3VycmVudFRpbWU6IG51bWJlcjtcclxuICAgIHBsYXlUaW1lOiBudW1iZXI7XHJcbiAgICBzcGF3bmVyOiBCYWxsU3Bhd25lcjtcclxuICAgIHBsYXllcjogUGxheWVyW10gPSBbXTtcclxuICAgIGdhbWVGaW5pc2hlZDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbnRyb2xsZXJzOiBDb250cm9sbGVyW10pIHtcclxuICAgICAgICBzdXBlcihcIkdhbWVWaWV3XCIpO1xyXG4gICAgICAgIHRoaXMucmVxdWVzdE5ld0dhbWUgPSBuZXcgRUV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXJ0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlUaW1lID0gNSAqIDYwO1xyXG5cclxuICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbih0aGlzLmludHJvZHVjdGlvbik7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0aW9uKHRoaXMuYW5pbWF0aW9uKTtcclxuICAgICAgICB2YXIgdHJlZSA9IG5ldyBUcmVlKCk7XHJcbiAgICAgICAgdGhpcy5hZGRBbmltYXRhYmxlKHRyZWUpO1xyXG4gICAgICAgIHRoaXMuc3Bhd25lciA9IG5ldyBCYWxsU3Bhd25lcigyMDAwIC8gdGhpcy5jb250cm9sbGVycy5sZW5ndGgpO1xyXG4gICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZSh0aGlzLnNwYXduZXIpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250cm9sbGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5jb250cm9sbGVyc1tpXTtcclxuICAgICAgICAgICAgdmFyIHBsYXllciA9IG5ldyBQbGF5ZXIoY29udHJvbGxlciwgaSAvIHRoaXMuY29udHJvbGxlcnMubGVuZ3RoLCB0aGlzLnNwYXduZXIsIHRyZWUpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllci5wdXNoKHBsYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQW5pbWF0YWJsZShwbGF5ZXIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sbGVyLCBzaWduYWw6IFNpZ25hbHMpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVGaW5pc2hlZCAmJiB0aGlzLmFsbG93TmV3R2FtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWduYWwgPT0gU2lnbmFscy5hIHx8IHNpZ25hbCA9PSBTaWduYWxzLnN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdE5ld0dhbWUuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFkZFVwZGF0ZSh0aGlzLnRpbWVyVXBkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpbnRyb2R1Y3Rpb24gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgIGN0eC5mb250ID0gXCIyMnB4IHNhbnMtc2VyaWZcIjtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICBjdHguZmlsbFRleHQoJ0dyYWIgc29tZSBjaHJpc3RtYXMgYmFsbHMgd2l0aCB5b3VyIGhhbmRzJywgd2lkdGggKiAxIC8gNCwgaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KCdhbmQgcHV0IHRoZW0gb24gdGhlIHRyZWUuJywgd2lkdGggKiAxIC8gNCwgaGVpZ2h0IC8gMiArIDMwKTtcclxuICAgICAgICBjdHguZm9udCA9IFwiMjdweCBzYW5zLXNlcmlmXCI7XHJcbiAgICAgICAgdmFyIHNlY29uZHNMZWZ0ID0gdGhpcy5wbGF5VGltZSAtIHRoaXMuY3VycmVudFRpbWU7XHJcbiAgICAgICAgaWYgKHNlY29uZHNMZWZ0IDwgMCkge1xyXG4gICAgICAgICAgICBzZWNvbmRzTGVmdCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5maWxsVGV4dCgoTWF0aC5mbG9vcihzZWNvbmRzTGVmdCAvIDYwKSArIFwiOlwiICsgTWF0aC5yb3VuZChzZWNvbmRzTGVmdCAlIDYwKSkudG9TdHJpbmcoKSwgd2lkdGggKiAxIC8gNCwgaGVpZ2h0IC8gMiArIDcwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRpbWVyVXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuZ2FtZUZpbmlzaGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFRpbWUgKz0gdGltZURpZmY7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lID49IHRoaXMucGxheVRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUZpbmlzaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxsb3dOZXdHYW1lID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVBbmltYXRhYmxlKHRoaXMuc3Bhd25lcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFuaW1hdGlvbih0aGlzLmludHJvZHVjdGlvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEFuaW1hdGlvbigoY3R4LCB3aWR0aCwgaGVpZ2h0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYWxsb3dOZXdHYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiOyAvLyBzdGFydCAvIGxlZnQgLyBjZW50ZXIgLyByaWdodCAvIGVuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIiAvLyBib3R0b20gLyBhbHBoYWJldGljIC8gbWlkZGxlIC8gaGFuZ2luZyAvIHRvcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibGFja1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5mb250ID0gXCIyMnB4IHNhbnMtc2VyaWZcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFwiUHJlc3MgYSBidXR0b24gdG8gc3RhcnQgYSBuZXcgZ2FtZS5cIiwgd2lkdGggKiAxIC8gNCwgaGVpZ2h0IC8gMilcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5wbGF5ZXIuc29ydCgoczEsIHMyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMyLnBvaW50cyAtIHMxLnBvaW50cztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wbGF5ZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcltpXTtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZW5kKGkgKyAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYW5pbWF0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIGhlaWdodCwgd2lkdGgsIC0zMCk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYnJvd25cIjtcclxuICAgICAgICBjdHguZmlsbFJlY3QoMCwgaGVpZ2h0IC0gMzAsIHdpZHRoLCAtNzApO1xyXG4gICAgfTtcclxufSIsImltcG9ydCB7IEFuaW1hdGlvbiB9IGZyb20gXCIuL2VuYy9hbmltYXRpb25cIjtcclxuaW1wb3J0IHsgTWFpbk1lbnVWaWV3IH0gZnJvbSBcIi4vbWFpbk1lbnVWaWV3XCI7XHJcbmltcG9ydCB7IEdhbWVWaWV3IH0gZnJvbSBcIi4vZ2FtZVZpZXdcIjtcclxuaW1wb3J0IGZhdmljb24gZnJvbSBcIi4vYXNzZXRzL2Zhdmljb24ucG5nXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgYW5pbWF0aW9uOiBBbmltYXRpb247XHJcbiAgICBtZW51OiBNYWluTWVudVZpZXc7XHJcbiAgICBnYW1lOiBHYW1lVmlldztcclxuXHJcbiAgICBwdWJsaWMgcnVuKCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gQW5pbWF0aW9uLmNyZWF0ZUluQm9keSgpO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlRmF2aWNvbihmYXZpY29uKVxyXG4gICAgICAgIHRoaXMubmV3R2FtZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZUZhdmljb24oc3JjOiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKSxcclxuICAgICAgICAgICAgb2xkTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkeW5hbWljLWZhdmljb24nKTtcclxuICAgICAgICBsaW5rLmlkID0gJ2R5bmFtaWMtZmF2aWNvbic7XHJcbiAgICAgICAgbGluay5yZWwgPSAnc2hvcnRjdXQgaWNvbic7XHJcbiAgICAgICAgbGluay5ocmVmID0gc3JjO1xyXG4gICAgICAgIGlmIChvbGRMaW5rKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQob2xkTGluayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGFydCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmdhbWUgPSBuZXcgR2FtZVZpZXcodGhpcy5tZW51LmNvbnRyb2xsZXJzKTtcclxuICAgICAgICB0aGlzLm1lbnUuaGlkZSgpO1xyXG4gICAgICAgIHRoaXMubWVudS5yZXF1ZXN0U3RhcnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnN0YXJ0KTtcclxuICAgICAgICB0aGlzLm1lbnUgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRWaWV3KHRoaXMuZ2FtZSk7XHJcbiAgICAgICAgdGhpcy5nYW1lLnJlcXVlc3ROZXdHYW1lLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5uZXdHYW1lKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0XCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZ2FtZS5zdGFydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbmV3R2FtZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1lbnUgPSBuZXcgTWFpbk1lbnVWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5tZW51LnJlcXVlc3RTdGFydC5hZGRFdmVudExpc3RlbmVyKHRoaXMuc3RhcnQpO1xyXG4gICAgICAgIGlmICh0aGlzLmdhbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLnJlcXVlc3ROZXdHYW1lLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5uZXdHYW1lKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lLmhpZGUoKTtcclxuICAgICAgICAgICAgdGhpcy5nYW1lID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFkZFZpZXcodGhpcy5tZW51KTtcclxuICAgICAgICB0aGlzLm1lbnUuc2hvdygpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vYXBwXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbiwgZmFsc2UpO1xyXG5cclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICBjb25zdCBhcHAgPSBuZXcgQXBwKCk7XHJcbiAgYXBwLnJ1bigpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==